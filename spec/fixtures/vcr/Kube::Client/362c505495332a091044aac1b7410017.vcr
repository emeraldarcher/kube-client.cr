HTTP/1.1 200 OK
Content-Type: application/json
Date: Sat, 13 Apr 2019 01:26:54 GMT
Connection: close
Transfer-Encoding: chunked
Content-Length: 115931

{"kind":"PodList","apiVersion":"v1","metadata":{"selfLink":"/api/v1/namespaces/default/pods","resourceVersion":"883697"},"items":[{"metadata":{"name":"consul-fd962","generateName":"consul-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/consul-fd962","uid":"a7914ba0-5c5b-11e9-bf08-00505683ad44","resourceVersion":"621304","creationTimestamp":"2019-04-11T13:13:53Z","labels":{"app":"consul","app.kubernetes.io/component":"backend","app.kubernetes.io/instance":"consul","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"consul","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"1.3.1","chart":"consul-0.1.4","component":"client","controller-revision-hash":"3043078523","hasDNS":"true","helm.sh/chart":"consul-0.1.4","pod-template-generation":"1","release":"consul"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.55/32","consul.hashicorp.com/connect-inject":"false"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"consul","uid":"a746d29d-5c5b-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","emptyDir":{}},{"name":"config","configMap":{"name":"consul-client-config","defaultMode":420}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"consul","image":"repo.optanix.io/consul:1.3.1","command":["/bin/sh","-ec","CONSUL_FULLNAME=\"consul\"\n\nexec /bin/consul agent \\\n  -node=\"${NODE}-kube\" \\\n  -advertise=\"${POD_IP}\" \\\n  -bind=0.0.0.0 \\\n  -client=0.0.0.0 \\\n  -config-dir=/consul/config \\\n  -datacenter=optx \\\n  -data-dir=/consul/data \\\n  -retry-join=${CONSUL_FULLNAME}-server-0.${CONSUL_FULLNAME}-server.${NAMESPACE}.svc \\\n  -domain=consul.local\n"],"ports":[{"name":"http","hostPort":8500,"containerPort":8500,"protocol":"TCP"},{"name":"grpc","hostPort":8502,"containerPort":8502,"protocol":"TCP"},{"name":"serflan","containerPort":8301,"protocol":"TCP"},{"name":"serfwan","containerPort":8302,"protocol":"TCP"},{"name":"server","containerPort":8300,"protocol":"TCP"},{"name":"dns-tcp","containerPort":8600,"protocol":"TCP"},{"name":"dns-udp","containerPort":8600,"protocol":"UDP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"NODE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}}],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/consul/data"},{"name":"config","mountPath":"/consul/config"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/bin/sh","-ec","curl http://127.0.0.1:8500/v1/status/leader 2\u003e/dev/null | \\\ngrep -E '\".+\"'\n"]},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/sh","-c","consul leave"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":10,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:53Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:15:04Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:53Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.55","startTime":"2019-04-11T13:13:53Z","containerStatuses":[{"name":"consul","state":{"running":{"startedAt":"2019-04-11T13:13:55Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://241d132f39d2305b4777d76db3f3491333c903a970dc1315aec8011a0190b738"}],"qosClass":"BestEffort"}},{"metadata":{"name":"consul-fdblk","generateName":"consul-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/consul-fdblk","uid":"a7946525-5c5b-11e9-bf08-00505683ad44","resourceVersion":"621298","creationTimestamp":"2019-04-11T13:13:53Z","labels":{"app":"consul","app.kubernetes.io/component":"backend","app.kubernetes.io/instance":"consul","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"consul","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"1.3.1","chart":"consul-0.1.4","component":"client","controller-revision-hash":"3043078523","hasDNS":"true","helm.sh/chart":"consul-0.1.4","pod-template-generation":"1","release":"consul"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.64/32","consul.hashicorp.com/connect-inject":"false"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"consul","uid":"a746d29d-5c5b-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","emptyDir":{}},{"name":"config","configMap":{"name":"consul-client-config","defaultMode":420}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"consul","image":"repo.optanix.io/consul:1.3.1","command":["/bin/sh","-ec","CONSUL_FULLNAME=\"consul\"\n\nexec /bin/consul agent \\\n  -node=\"${NODE}-kube\" \\\n  -advertise=\"${POD_IP}\" \\\n  -bind=0.0.0.0 \\\n  -client=0.0.0.0 \\\n  -config-dir=/consul/config \\\n  -datacenter=optx \\\n  -data-dir=/consul/data \\\n  -retry-join=${CONSUL_FULLNAME}-server-0.${CONSUL_FULLNAME}-server.${NAMESPACE}.svc \\\n  -domain=consul.local\n"],"ports":[{"name":"http","hostPort":8500,"containerPort":8500,"protocol":"TCP"},{"name":"grpc","hostPort":8502,"containerPort":8502,"protocol":"TCP"},{"name":"serflan","containerPort":8301,"protocol":"TCP"},{"name":"serfwan","containerPort":8302,"protocol":"TCP"},{"name":"server","containerPort":8300,"protocol":"TCP"},{"name":"dns-tcp","containerPort":8600,"protocol":"TCP"},{"name":"dns-udp","containerPort":8600,"protocol":"UDP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"NODE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}}],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/consul/data"},{"name":"config","mountPath":"/consul/config"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/bin/sh","-ec","curl http://127.0.0.1:8500/v1/status/leader 2\u003e/dev/null | \\\ngrep -E '\".+\"'\n"]},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/sh","-c","consul leave"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":10,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.195","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:52Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:15:02Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:52Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.64","startTime":"2019-04-11T13:13:52Z","containerStatuses":[{"name":"consul","state":{"running":{"startedAt":"2019-04-11T13:13:55Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://9b7d9b39cdc94c7c80cee2d3151c4c32e2737f276b596f3915f139f817c1e664"}],"qosClass":"BestEffort"}},{"metadata":{"name":"consul-pzbmp","generateName":"consul-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/consul-pzbmp","uid":"a7940994-5c5b-11e9-bf08-00505683ad44","resourceVersion":"621287","creationTimestamp":"2019-04-11T13:13:53Z","labels":{"app":"consul","app.kubernetes.io/component":"backend","app.kubernetes.io/instance":"consul","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"consul","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"1.3.1","chart":"consul-0.1.4","component":"client","controller-revision-hash":"3043078523","hasDNS":"true","helm.sh/chart":"consul-0.1.4","pod-template-generation":"1","release":"consul"},"annotations":{"cni.projectcalico.org/podIP":"10.42.1.52/32","consul.hashicorp.com/connect-inject":"false"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"consul","uid":"a746d29d-5c5b-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","emptyDir":{}},{"name":"config","configMap":{"name":"consul-client-config","defaultMode":420}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"consul","image":"repo.optanix.io/consul:1.3.1","command":["/bin/sh","-ec","CONSUL_FULLNAME=\"consul\"\n\nexec /bin/consul agent \\\n  -node=\"${NODE}-kube\" \\\n  -advertise=\"${POD_IP}\" \\\n  -bind=0.0.0.0 \\\n  -client=0.0.0.0 \\\n  -config-dir=/consul/config \\\n  -datacenter=optx \\\n  -data-dir=/consul/data \\\n  -retry-join=${CONSUL_FULLNAME}-server-0.${CONSUL_FULLNAME}-server.${NAMESPACE}.svc \\\n  -domain=consul.local\n"],"ports":[{"name":"http","hostPort":8500,"containerPort":8500,"protocol":"TCP"},{"name":"grpc","hostPort":8502,"containerPort":8502,"protocol":"TCP"},{"name":"serflan","containerPort":8301,"protocol":"TCP"},{"name":"serfwan","containerPort":8302,"protocol":"TCP"},{"name":"server","containerPort":8300,"protocol":"TCP"},{"name":"dns-tcp","containerPort":8600,"protocol":"TCP"},{"name":"dns-udp","containerPort":8600,"protocol":"UDP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"NODE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}}],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/consul/data"},{"name":"config","mountPath":"/consul/config"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/bin/sh","-ec","curl http://127.0.0.1:8500/v1/status/leader 2\u003e/dev/null | \\\ngrep -E '\".+\"'\n"]},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/sh","-c","consul leave"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":10,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.198","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:53Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:14:58Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:53Z"}],"hostIP":"172.16.30.198","podIP":"10.42.1.52","startTime":"2019-04-11T13:13:53Z","containerStatuses":[{"name":"consul","state":{"running":{"startedAt":"2019-04-11T13:13:54Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://9aca10ac0e90501d2a40c4bb9e9996414ca3a5cd7119cd4d66bfeece2c3b4f53"}],"qosClass":"BestEffort"}},{"metadata":{"name":"consul-server-0","generateName":"consul-server-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/consul-server-0","uid":"a79b6c32-5c5b-11e9-bf08-00505683ad44","resourceVersion":"621238","creationTimestamp":"2019-04-11T13:13:53Z","labels":{"app":"consul","app.kubernetes.io/component":"backend","app.kubernetes.io/instance":"consul","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"consul","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"1.3.1","chart":"consul-0.1.4","component":"server","controller-revision-hash":"consul-server-69894667c9","hasDNS":"true","helm.sh/chart":"consul-0.1.4","release":"consul","statefulset.kubernetes.io/pod-name":"consul-server-0"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.60/32","consul.hashicorp.com/connect-inject":"false"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"consul-server","uid":"a74b5d64-5c5b-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-consul-server-0"}},{"name":"config","configMap":{"name":"consul-server-config","defaultMode":420}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"consul","image":"repo.optanix.io/consul:1.3.1","command":["/bin/sh","-ec","CONSUL_FULLNAME=\"consul\"\n\nexec /bin/consul agent \\\n  -advertise=\"${POD_IP}\" \\\n  -bind=0.0.0.0 \\\n  -bootstrap-expect=1 \\\n  -client=0.0.0.0 \\\n  -config-dir=/consul/config \\\n  -datacenter=optx \\\n  -data-dir=/consul/data \\\n  -domain=consul.local \\\n  -hcl=\"connect { enabled = true }\" \\\n  -ui \\\n  -retry-join=${CONSUL_FULLNAME}-server-0.${CONSUL_FULLNAME}-server.${NAMESPACE}.svc \\\n  -server\n"],"ports":[{"name":"http","containerPort":8500,"protocol":"TCP"},{"name":"serflan","containerPort":8301,"protocol":"TCP"},{"name":"serfwan","containerPort":8302,"protocol":"TCP"},{"name":"server","containerPort":8300,"protocol":"TCP"},{"name":"dns-tcp","containerPort":8600,"protocol":"TCP"},{"name":"dns-udp","containerPort":8600,"protocol":"UDP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}}],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/consul/data"},{"name":"config","mountPath":"/consul/config"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/bin/sh","-ec","curl http://127.0.0.1:8500/v1/status/leader 2\u003e/dev/null | \\\ngrep -E '\".+\"'\n"]},"initialDelaySeconds":5,"timeoutSeconds":5,"periodSeconds":3,"successThreshold":1,"failureThreshold":2},"lifecycle":{"preStop":{"exec":{"command":["/bin/sh","-c","consul leave"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":10,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.192","securityContext":{"fsGroup":1000},"hostname":"consul-server-0","subdomain":"consul-server","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:53Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:14:40Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:53Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.60","startTime":"2019-04-11T13:13:53Z","containerStatuses":[{"name":"consul","state":{"running":{"startedAt":"2019-04-11T13:14:30Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://21241eca50bfdf7898b1be38bdae702df990873c2f2631563ee02b110ef54e34"}],"qosClass":"BestEffort"}},{"metadata":{"name":"consul-sync-catalog-6b8559664-cbgf6","generateName":"consul-sync-catalog-6b8559664-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/consul-sync-catalog-6b8559664-cbgf6","uid":"a796927f-5c5b-11e9-bf08-00505683ad44","resourceVersion":"621081","creationTimestamp":"2019-04-11T13:13:53Z","labels":{"app":"consul","app.kubernetes.io/component":"backend","app.kubernetes.io/instance":"consul","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"consul","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"1.3.1","chart":"consul-0.1.4","component":"sync-catalog","helm.sh/chart":"consul-0.1.4","pod-template-hash":"264115220","release":"consul"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.56/32","consul.hashicorp.com/connect-inject":"false"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"consul-sync-catalog-6b8559664","uid":"a78938f6-5c5b-11e9-bf08-00505683ad44","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"consul-sync-catalog-token-pjlvf","secret":{"secretName":"consul-sync-catalog-token-pjlvf","defaultMode":420}}],"containers":[{"name":"consul-sync-catalog","image":"hashicorp/consul-k8s:0.3.0","command":["/bin/sh","-ec","consul-k8s sync-catalog \\\n  -http-addr=${HOST_IP}:8500 \\\n  -k8s-default-sync=true \\\n  -to-k8s=false \\\n  -consul-domain=consul.local \\\n  -k8s-write-namespace=${NAMESPACE} \\\n  -consul-write-interval=30s\n"],"env":[{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}}],"resources":{"limits":{"cpu":"10m"},"requests":{"cpu":"10m"}},"volumeMounts":[{"name":"consul-sync-catalog-token-pjlvf","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"consul-sync-catalog","serviceAccount":"consul-sync-catalog","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:53Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:58Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:53Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.56","startTime":"2019-04-11T13:13:53Z","containerStatuses":[{"name":"consul-sync-catalog","state":{"running":{"startedAt":"2019-04-11T13:13:58Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"hashicorp/consul-k8s:0.3.0","imageID":"docker-pullable://hashicorp/consul-k8s@sha256:291b5f71a8fa98a06c5d29cc301386792e5b7f569b3e3a1372469c4ff098b0f6","containerID":"docker://920bc9f5a4a32a494ab17b2dee376906d6f5dc2a04d3c47fbafa390cbd0c9d70"}],"qosClass":"Burstable"}},{"metadata":{"name":"csi-attacher-0","generateName":"csi-attacher-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/csi-attacher-0","uid":"d0125612-597f-11e9-bf08-00505683ad44","resourceVersion":"15768","creationTimestamp":"2019-04-07T21:55:09Z","labels":{"app":"csi-attacher","controller-revision-hash":"csi-attacher-5646c4b647","statefulset.kubernetes.io/pod-name":"csi-attacher-0"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.30/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"csi-attacher","uid":"cfd13fa7-597f-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"socket-dir","hostPath":{"path":"/var/lib/kubelet/plugins/io.rancher.longhorn","type":"DirectoryOrCreate"}},{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"containers":[{"name":"csi-attacher","image":"quay.io/k8scsi/csi-attacher:v0.4.0","args":["--v=5","--csi-address=$(ADDRESS)"],"env":[{"name":"ADDRESS","value":"/var/lib/kubelet/plugins/io.rancher.longhorn/csi.sock"}],"resources":{},"volumeMounts":[{"name":"socket-dir","mountPath":"/var/lib/kubelet/plugins/io.rancher.longhorn"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.195","securityContext":{},"hostname":"csi-attacher-0","subdomain":"csi-attacher","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:09Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:11Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:09Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.30","startTime":"2019-04-07T21:55:09Z","containerStatuses":[{"name":"csi-attacher","state":{"running":{"startedAt":"2019-04-07T21:55:10Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"quay.io/k8scsi/csi-attacher:v0.4.0","imageID":"docker-pullable://quay.io/k8scsi/csi-attacher@sha256:9db72912b2cc32ea8c5c24bd7b86e194679fe017f4b27fd4c121f97fd8a673fa","containerID":"docker://33e6079cf25df53fce826d418e6b0d4294c11f0ed9b90209a153e26429ed073a"}],"qosClass":"BestEffort"}},{"metadata":{"name":"csi-provisioner-0","generateName":"csi-provisioner-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/csi-provisioner-0","uid":"d2d2547d-597f-11e9-bf08-00505683ad44","resourceVersion":"15863","creationTimestamp":"2019-04-07T21:55:14Z","labels":{"app":"csi-provisioner","controller-revision-hash":"csi-provisioner-58b7ccb657","statefulset.kubernetes.io/pod-name":"csi-provisioner-0"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.23/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"csi-provisioner","uid":"d28eaa33-597f-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"socket-dir","hostPath":{"path":"/var/lib/kubelet/plugins/io.rancher.longhorn","type":"DirectoryOrCreate"}},{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"containers":[{"name":"csi-provisioner","image":"quay.io/k8scsi/csi-provisioner:v0.3.1","args":["--provisioner=rancher.io/longhorn","--csi-address=$(ADDRESS)","--v=5"],"env":[{"name":"ADDRESS","value":"/var/lib/kubelet/plugins/io.rancher.longhorn/csi.sock"}],"resources":{},"volumeMounts":[{"name":"socket-dir","mountPath":"/var/lib/kubelet/plugins/io.rancher.longhorn"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.192","securityContext":{},"hostname":"csi-provisioner-0","subdomain":"csi-provisioner","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:14Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:17Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:14Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.23","startTime":"2019-04-07T21:55:14Z","containerStatuses":[{"name":"csi-provisioner","state":{"running":{"startedAt":"2019-04-07T21:55:16Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"quay.io/k8scsi/csi-provisioner:v0.3.1","imageID":"docker-pullable://quay.io/k8scsi/csi-provisioner@sha256:08a02a2e65f8f08cddf64807709537175ce833aade438d93d466f79007fad96e","containerID":"docker://59ec319ccacddd439113f0c56f96eb56f463facbad56e73394819fe40fa13219"}],"qosClass":"BestEffort"}},{"metadata":{"name":"engine-image-ei-ca81f298-92t6q","generateName":"engine-image-ei-ca81f298-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/engine-image-ei-ca81f298-92t6q","uid":"da09f42b-597e-11e9-9170-00505683ad44","resourceVersion":"865656","creationTimestamp":"2019-04-07T21:48:17Z","labels":{"controller-revision-hash":"2568842412","longhorn":"engine-image","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.19/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"engine-image-ei-ca81f298","uid":"d9fd97b0-597e-11e9-9170-00505683ad44","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","hostPath":{"path":"/var/lib/rancher/longhorn/engine-binaries/repo.optanix.io-longhorn-engine-v0.3.3","type":""}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"engine-image-ei-ca81f298","image":"repo.optanix.io/longhorn-engine:v0.3.3","command":["/bin/bash"],"args":["-c","cp /usr/local/bin/longhorn* /data/ \u0026\u0026 echo installed \u0026\u0026 trap 'rm /data/longhorn* \u0026\u0026 echo cleaned up' EXIT \u0026\u0026 sleep infinity"],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/data/"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["ls","/data/longhorn"]},"initialDelaySeconds":5,"timeoutSeconds":1,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:48:17Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:54:43Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:48:17Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.19","startTime":"2019-04-07T21:48:17Z","containerStatuses":[{"name":"engine-image-ei-ca81f298","state":{"running":{"startedAt":"2019-04-07T21:54:35Z"}},"lastState":{},"ready":true,"restartCount":1,"image":"repo.optanix.io/longhorn-engine:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-engine@sha256:813c15c85fc9e61d4225a38f22e0d9d7ae358bfd131e38fdb73b5192ff698526","containerID":"docker://ce9723c80520834facce763255c2c72cf80ac1cc75d178590b2511b6cfff9b07"}],"qosClass":"BestEffort"}},{"metadata":{"name":"engine-image-ei-ca81f298-m5ghk","generateName":"engine-image-ei-ca81f298-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/engine-image-ei-ca81f298-m5ghk","uid":"da0c1c6a-597e-11e9-9170-00505683ad44","resourceVersion":"866450","creationTimestamp":"2019-04-07T21:48:17Z","labels":{"controller-revision-hash":"2568842412","longhorn":"engine-image","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.1.17/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"engine-image-ei-ca81f298","uid":"d9fd97b0-597e-11e9-9170-00505683ad44","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","hostPath":{"path":"/var/lib/rancher/longhorn/engine-binaries/repo.optanix.io-longhorn-engine-v0.3.3","type":""}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"engine-image-ei-ca81f298","image":"repo.optanix.io/longhorn-engine:v0.3.3","command":["/bin/bash"],"args":["-c","cp /usr/local/bin/longhorn* /data/ \u0026\u0026 echo installed \u0026\u0026 trap 'rm /data/longhorn* \u0026\u0026 echo cleaned up' EXIT \u0026\u0026 sleep infinity"],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/data/"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["ls","/data/longhorn"]},"initialDelaySeconds":5,"timeoutSeconds":1,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.198","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:48:17Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:54:50Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:48:17Z"}],"hostIP":"172.16.30.198","podIP":"10.42.1.17","startTime":"2019-04-07T21:48:17Z","containerStatuses":[{"name":"engine-image-ei-ca81f298","state":{"running":{"startedAt":"2019-04-07T21:54:38Z"}},"lastState":{},"ready":true,"restartCount":1,"image":"repo.optanix.io/longhorn-engine:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-engine@sha256:813c15c85fc9e61d4225a38f22e0d9d7ae358bfd131e38fdb73b5192ff698526","containerID":"docker://1298d10262d899400fd7d727556a5563ac942b80d6b36034eb6136634697ce5b"}],"qosClass":"BestEffort"}},{"metadata":{"name":"engine-image-ei-ca81f298-rp6j7","generateName":"engine-image-ei-ca81f298-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/engine-image-ei-ca81f298-rp6j7","uid":"da0ccbf6-597e-11e9-9170-00505683ad44","resourceVersion":"866487","creationTimestamp":"2019-04-07T21:48:17Z","labels":{"controller-revision-hash":"2568842412","longhorn":"engine-image","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.26/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"engine-image-ei-ca81f298","uid":"d9fd97b0-597e-11e9-9170-00505683ad44","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","hostPath":{"path":"/var/lib/rancher/longhorn/engine-binaries/repo.optanix.io-longhorn-engine-v0.3.3","type":""}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"engine-image-ei-ca81f298","image":"repo.optanix.io/longhorn-engine:v0.3.3","command":["/bin/bash"],"args":["-c","cp /usr/local/bin/longhorn* /data/ \u0026\u0026 echo installed \u0026\u0026 trap 'rm /data/longhorn* \u0026\u0026 echo cleaned up' EXIT \u0026\u0026 sleep infinity"],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/data/"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["ls","/data/longhorn"]},"initialDelaySeconds":5,"timeoutSeconds":1,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.195","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:48:16Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:54:43Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:48:16Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.26","startTime":"2019-04-07T21:48:16Z","containerStatuses":[{"name":"engine-image-ei-ca81f298","state":{"running":{"startedAt":"2019-04-07T21:54:34Z"}},"lastState":{},"ready":true,"restartCount":1,"image":"repo.optanix.io/longhorn-engine:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-engine@sha256:813c15c85fc9e61d4225a38f22e0d9d7ae358bfd131e38fdb73b5192ff698526","containerID":"docker://f260255d009d8427288a725c981f10532f9cec5e28e6351b46c60f319cfe8449"}],"qosClass":"BestEffort"}},{"metadata":{"name":"longhorn-csi-plugin-2slst","generateName":"longhorn-csi-plugin-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/longhorn-csi-plugin-2slst","uid":"d2d2e9a3-597f-11e9-bf08-00505683ad44","resourceVersion":"15856","creationTimestamp":"2019-04-07T21:55:14Z","labels":{"app":"longhorn-csi-plugin","controller-revision-hash":"2326515565","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.1.25/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"longhorn-csi-plugin","uid":"d29255e3-597f-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"plugin-dir","hostPath":{"path":"/var/lib/kubelet/plugins/io.rancher.longhorn","type":"DirectoryOrCreate"}},{"name":"pods-mount-dir","hostPath":{"path":"/var/lib/kubelet/pods","type":"DirectoryOrCreate"}},{"name":"socket-dir","hostPath":{"path":"/var/lib/kubelet/plugins/io.rancher.longhorn","type":"DirectoryOrCreate"}},{"name":"host-dev","hostPath":{"path":"/dev","type":""}},{"name":"host-sys","hostPath":{"path":"/sys","type":""}},{"name":"lib-modules","hostPath":{"path":"/lib-modules","type":""}},{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"containers":[{"name":"driver-registrar","image":"quay.io/k8scsi/driver-registrar:v0.4.1","args":["--v=5","--csi-address=$(ADDRESS)"],"env":[{"name":"ADDRESS","value":"/var/lib/kubelet/plugins/io.rancher.longhorn/csi.sock"},{"name":"KUBE_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}}],"resources":{},"volumeMounts":[{"name":"socket-dir","mountPath":"/var/lib/kubelet/plugins/io.rancher.longhorn"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"longhorn-csi-plugin","image":"repo.optanix.io/longhorn-manager:v0.3.3","args":["longhorn-manager","-d","csi","--nodeid=$(NODE_ID)","--endpoint=$(CSI_ENDPOINT)","--drivername=io.rancher.longhorn","--manager-url=http://longhorn-backend:9500/v1"],"env":[{"name":"NODE_ID","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"CSI_ENDPOINT","value":"unix://var/lib/kubelet/plugins/io.rancher.longhorn/csi.sock"}],"resources":{},"volumeMounts":[{"name":"plugin-dir","mountPath":"/var/lib/kubelet/plugins/io.rancher.longhorn"},{"name":"pods-mount-dir","mountPath":"/var/lib/kubelet/pods","mountPropagation":"Bidirectional"},{"name":"host-dev","mountPath":"/dev"},{"name":"host-sys","mountPath":"/sys"},{"name":"lib-modules","readOnly":true,"mountPath":"/lib/modules"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["SYS_ADMIN"]},"privileged":true,"allowPrivilegeEscalation":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.198","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:14Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:14Z"}],"hostIP":"172.16.30.198","podIP":"10.42.1.25","startTime":"2019-04-07T21:55:14Z","containerStatuses":[{"name":"driver-registrar","state":{"running":{"startedAt":"2019-04-07T21:55:15Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"quay.io/k8scsi/driver-registrar:v0.4.1","imageID":"docker-pullable://quay.io/k8scsi/driver-registrar@sha256:b7c6cdbd3ad9e585f79365a5b9f5a83551629c2a3235ed0825d7629371963c10","containerID":"docker://06e24fdcb8986f3aa534784691522a32e7cf4181def6290ac5ca99736896bd6f"},{"name":"longhorn-csi-plugin","state":{"running":{"startedAt":"2019-04-07T21:55:15Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/longhorn-manager:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-manager@sha256:aa4b24ba4eabf56c3f7eb4c09971b18941cdd87c569338527ac007dc76cdb4fe","containerID":"docker://f66734d84dde1c0d2ab188fcb6563b38a6d04ba287a46f021dd1e6e562d3a53d"}],"qosClass":"BestEffort"}},{"metadata":{"name":"longhorn-csi-plugin-l6gzw","generateName":"longhorn-csi-plugin-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/longhorn-csi-plugin-l6gzw","uid":"d2d60622-597f-11e9-bf08-00505683ad44","resourceVersion":"15860","creationTimestamp":"2019-04-07T21:55:14Z","labels":{"app":"longhorn-csi-plugin","controller-revision-hash":"2326515565","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.31/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"longhorn-csi-plugin","uid":"d29255e3-597f-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"plugin-dir","hostPath":{"path":"/var/lib/kubelet/plugins/io.rancher.longhorn","type":"DirectoryOrCreate"}},{"name":"pods-mount-dir","hostPath":{"path":"/var/lib/kubelet/pods","type":"DirectoryOrCreate"}},{"name":"socket-dir","hostPath":{"path":"/var/lib/kubelet/plugins/io.rancher.longhorn","type":"DirectoryOrCreate"}},{"name":"host-dev","hostPath":{"path":"/dev","type":""}},{"name":"host-sys","hostPath":{"path":"/sys","type":""}},{"name":"lib-modules","hostPath":{"path":"/lib-modules","type":""}},{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"containers":[{"name":"driver-registrar","image":"quay.io/k8scsi/driver-registrar:v0.4.1","args":["--v=5","--csi-address=$(ADDRESS)"],"env":[{"name":"ADDRESS","value":"/var/lib/kubelet/plugins/io.rancher.longhorn/csi.sock"},{"name":"KUBE_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}}],"resources":{},"volumeMounts":[{"name":"socket-dir","mountPath":"/var/lib/kubelet/plugins/io.rancher.longhorn"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"longhorn-csi-plugin","image":"repo.optanix.io/longhorn-manager:v0.3.3","args":["longhorn-manager","-d","csi","--nodeid=$(NODE_ID)","--endpoint=$(CSI_ENDPOINT)","--drivername=io.rancher.longhorn","--manager-url=http://longhorn-backend:9500/v1"],"env":[{"name":"NODE_ID","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"CSI_ENDPOINT","value":"unix://var/lib/kubelet/plugins/io.rancher.longhorn/csi.sock"}],"resources":{},"volumeMounts":[{"name":"plugin-dir","mountPath":"/var/lib/kubelet/plugins/io.rancher.longhorn"},{"name":"pods-mount-dir","mountPath":"/var/lib/kubelet/pods","mountPropagation":"Bidirectional"},{"name":"host-dev","mountPath":"/dev"},{"name":"host-sys","mountPath":"/sys"},{"name":"lib-modules","readOnly":true,"mountPath":"/lib/modules"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["SYS_ADMIN"]},"privileged":true,"allowPrivilegeEscalation":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.195","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:13Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:13Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.31","startTime":"2019-04-07T21:55:13Z","containerStatuses":[{"name":"driver-registrar","state":{"running":{"startedAt":"2019-04-07T21:55:15Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"quay.io/k8scsi/driver-registrar:v0.4.1","imageID":"docker-pullable://quay.io/k8scsi/driver-registrar@sha256:b7c6cdbd3ad9e585f79365a5b9f5a83551629c2a3235ed0825d7629371963c10","containerID":"docker://3c01c746e9e1d61b619c920f5bc811010c29a38b637961090040ef028862a05e"},{"name":"longhorn-csi-plugin","state":{"running":{"startedAt":"2019-04-07T21:55:16Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/longhorn-manager:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-manager@sha256:aa4b24ba4eabf56c3f7eb4c09971b18941cdd87c569338527ac007dc76cdb4fe","containerID":"docker://c8d50197e5fbef2aada2704b48e87f472dee22dd65e4253e7a522239b4974f6f"}],"qosClass":"BestEffort"}},{"metadata":{"name":"longhorn-csi-plugin-z6xlp","generateName":"longhorn-csi-plugin-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/longhorn-csi-plugin-z6xlp","uid":"d2d6ebf4-597f-11e9-bf08-00505683ad44","resourceVersion":"15876","creationTimestamp":"2019-04-07T21:55:14Z","labels":{"app":"longhorn-csi-plugin","controller-revision-hash":"2326515565","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.24/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"longhorn-csi-plugin","uid":"d29255e3-597f-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"plugin-dir","hostPath":{"path":"/var/lib/kubelet/plugins/io.rancher.longhorn","type":"DirectoryOrCreate"}},{"name":"pods-mount-dir","hostPath":{"path":"/var/lib/kubelet/pods","type":"DirectoryOrCreate"}},{"name":"socket-dir","hostPath":{"path":"/var/lib/kubelet/plugins/io.rancher.longhorn","type":"DirectoryOrCreate"}},{"name":"host-dev","hostPath":{"path":"/dev","type":""}},{"name":"host-sys","hostPath":{"path":"/sys","type":""}},{"name":"lib-modules","hostPath":{"path":"/lib-modules","type":""}},{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"containers":[{"name":"driver-registrar","image":"quay.io/k8scsi/driver-registrar:v0.4.1","args":["--v=5","--csi-address=$(ADDRESS)"],"env":[{"name":"ADDRESS","value":"/var/lib/kubelet/plugins/io.rancher.longhorn/csi.sock"},{"name":"KUBE_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}}],"resources":{},"volumeMounts":[{"name":"socket-dir","mountPath":"/var/lib/kubelet/plugins/io.rancher.longhorn"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"longhorn-csi-plugin","image":"repo.optanix.io/longhorn-manager:v0.3.3","args":["longhorn-manager","-d","csi","--nodeid=$(NODE_ID)","--endpoint=$(CSI_ENDPOINT)","--drivername=io.rancher.longhorn","--manager-url=http://longhorn-backend:9500/v1"],"env":[{"name":"NODE_ID","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"CSI_ENDPOINT","value":"unix://var/lib/kubelet/plugins/io.rancher.longhorn/csi.sock"}],"resources":{},"volumeMounts":[{"name":"plugin-dir","mountPath":"/var/lib/kubelet/plugins/io.rancher.longhorn"},{"name":"pods-mount-dir","mountPath":"/var/lib/kubelet/pods","mountPropagation":"Bidirectional"},{"name":"host-dev","mountPath":"/dev"},{"name":"host-sys","mountPath":"/sys"},{"name":"lib-modules","readOnly":true,"mountPath":"/lib/modules"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["SYS_ADMIN"]},"privileged":true,"allowPrivilegeEscalation":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:14Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:14Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.24","startTime":"2019-04-07T21:55:14Z","containerStatuses":[{"name":"driver-registrar","state":{"running":{"startedAt":"2019-04-07T21:55:17Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"quay.io/k8scsi/driver-registrar:v0.4.1","imageID":"docker-pullable://quay.io/k8scsi/driver-registrar@sha256:b7c6cdbd3ad9e585f79365a5b9f5a83551629c2a3235ed0825d7629371963c10","containerID":"docker://36279ea3afb9dd76959d5540ead4d24590fcbd801eb11f0c1873f32cbe764f56"},{"name":"longhorn-csi-plugin","state":{"running":{"startedAt":"2019-04-07T21:55:17Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/longhorn-manager:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-manager@sha256:aa4b24ba4eabf56c3f7eb4c09971b18941cdd87c569338527ac007dc76cdb4fe","containerID":"docker://4f649789e335a1691c41de6a596e8061222298ee7a4d3e2e1c3a8898f44f7f11"}],"qosClass":"BestEffort"}},{"metadata":{"name":"longhorn-driver-deployer-6d6d79db46-hm5sp","generateName":"longhorn-driver-deployer-6d6d79db46-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/longhorn-driver-deployer-6d6d79db46-hm5sp","uid":"bc94ca96-597e-11e9-9170-00505683ad44","resourceVersion":"876647","creationTimestamp":"2019-04-07T21:47:27Z","labels":{"app":"longhorn-driver-deployer","pod-template-hash":"2828358602"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.15/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"longhorn-driver-deployer-6d6d79db46","uid":"bc900442-597e-11e9-9170-00505683ad44","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"initContainers":[{"name":"wait-longhorn-manager","image":"repo.optanix.io/longhorn-manager:v0.3.3","command":["sh","-c","while [ $(curl -m 1 -s -o /dev/null -w \"%{http_code}\" http://longhorn-backend:9500/v1) != \"200\" ]; do echo waiting; sleep 2; done"],"resources":{},"volumeMounts":[{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"longhorn-driver-deployer","image":"repo.optanix.io/longhorn-manager:v0.3.3","command":["longhorn-manager","-d","deploy-driver","--manager-image","repo.optanix.io/longhorn-manager:v0.3.3","--manager-url","http://longhorn-backend:9500/v1","--driver","csi"],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"FLEXVOLUME_DIR"}],"resources":{},"volumeMounts":[{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-12T23:58:32Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:04Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.15","startTime":"2019-04-07T21:47:27Z","initContainerStatuses":[{"name":"wait-longhorn-manager","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-13T00:26:49Z","finishedAt":"2019-04-13T00:26:49Z","containerID":"docker://4048841c987f116fb4b5e6ee3483bd13344d80e752292a3a932ebfdb8052f95d"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/longhorn-manager:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-manager@sha256:aa4b24ba4eabf56c3f7eb4c09971b18941cdd87c569338527ac007dc76cdb4fe","containerID":"docker://4048841c987f116fb4b5e6ee3483bd13344d80e752292a3a932ebfdb8052f95d"}],"containerStatuses":[{"name":"longhorn-driver-deployer","state":{"running":{"startedAt":"2019-04-07T21:55:03Z"}},"lastState":{},"ready":true,"restartCount":1,"image":"repo.optanix.io/longhorn-manager:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-manager@sha256:aa4b24ba4eabf56c3f7eb4c09971b18941cdd87c569338527ac007dc76cdb4fe","containerID":"docker://f561ba488ba26d218bc8f8ad1acba62cb51f6d9f7506492ed233138189d66942"}],"qosClass":"BestEffort"}},{"metadata":{"name":"longhorn-manager-gw94h","generateName":"longhorn-manager-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/longhorn-manager-gw94h","uid":"bc92b36a-597e-11e9-9170-00505683ad44","resourceVersion":"865778","creationTimestamp":"2019-04-07T21:47:27Z","labels":{"app":"longhorn-manager","controller-revision-hash":"2048523838","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.14/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"longhorn-manager","uid":"bc58ffc6-597e-11e9-8887-005056833dd1","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"dev","hostPath":{"path":"/dev/","type":""}},{"name":"proc","hostPath":{"path":"/proc/","type":""}},{"name":"varrun","hostPath":{"path":"/var/run/","type":""}},{"name":"longhorn","hostPath":{"path":"/var/lib/rancher/longhorn/","type":""}},{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"containers":[{"name":"longhorn-manager","image":"repo.optanix.io/longhorn-manager:v0.3.3","command":["longhorn-manager","-d","daemon","--engine-image","repo.optanix.io/longhorn-engine:v0.3.3","--manager-image","repo.optanix.io/longhorn-manager:v0.3.3","--service-account","longhorn-service-account"],"ports":[{"name":"manager","containerPort":9500,"protocol":"TCP"}],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"LONGHORN_BACKEND_SVC","value":"longhorn-backend"}],"resources":{},"volumeMounts":[{"name":"dev","mountPath":"/host/dev/"},{"name":"proc","mountPath":"/host/proc/"},{"name":"varrun","mountPath":"/var/run/"},{"name":"longhorn","mountPath":"/var/lib/rancher/longhorn/","mountPropagation":"Bidirectional"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:54:34Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.14","startTime":"2019-04-07T21:47:27Z","containerStatuses":[{"name":"longhorn-manager","state":{"running":{"startedAt":"2019-04-07T21:54:32Z"}},"lastState":{},"ready":true,"restartCount":1,"image":"repo.optanix.io/longhorn-manager:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-manager@sha256:aa4b24ba4eabf56c3f7eb4c09971b18941cdd87c569338527ac007dc76cdb4fe","containerID":"docker://74ff07f6ef03ff6bed6a691ad6e95c03887a575985f3e17c7f641a3158369e2a"}],"qosClass":"BestEffort"}},{"metadata":{"name":"longhorn-manager-mv985","generateName":"longhorn-manager-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/longhorn-manager-mv985","uid":"bc8fde59-597e-11e9-9170-00505683ad44","resourceVersion":"866600","creationTimestamp":"2019-04-07T21:47:27Z","labels":{"app":"longhorn-manager","controller-revision-hash":"2048523838","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.23/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"longhorn-manager","uid":"bc58ffc6-597e-11e9-8887-005056833dd1","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"dev","hostPath":{"path":"/dev/","type":""}},{"name":"proc","hostPath":{"path":"/proc/","type":""}},{"name":"varrun","hostPath":{"path":"/var/run/","type":""}},{"name":"longhorn","hostPath":{"path":"/var/lib/rancher/longhorn/","type":""}},{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"containers":[{"name":"longhorn-manager","image":"repo.optanix.io/longhorn-manager:v0.3.3","command":["longhorn-manager","-d","daemon","--engine-image","repo.optanix.io/longhorn-engine:v0.3.3","--manager-image","repo.optanix.io/longhorn-manager:v0.3.3","--service-account","longhorn-service-account"],"ports":[{"name":"manager","containerPort":9500,"protocol":"TCP"}],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"LONGHORN_BACKEND_SVC","value":"longhorn-backend"}],"resources":{},"volumeMounts":[{"name":"dev","mountPath":"/host/dev/"},{"name":"proc","mountPath":"/host/proc/"},{"name":"varrun","mountPath":"/var/run/"},{"name":"longhorn","mountPath":"/var/lib/rancher/longhorn/","mountPropagation":"Bidirectional"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.195","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:54:40Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.23","startTime":"2019-04-07T21:47:27Z","containerStatuses":[{"name":"longhorn-manager","state":{"running":{"startedAt":"2019-04-07T21:54:32Z"}},"lastState":{},"ready":true,"restartCount":1,"image":"repo.optanix.io/longhorn-manager:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-manager@sha256:aa4b24ba4eabf56c3f7eb4c09971b18941cdd87c569338527ac007dc76cdb4fe","containerID":"docker://180a253990daa354917bdfbbe7ca917682ecac7a2bcd8221789d3f92b12d8860"}],"qosClass":"BestEffort"}},{"metadata":{"name":"longhorn-manager-qkgb5","generateName":"longhorn-manager-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/longhorn-manager-qkgb5","uid":"bc96635a-597e-11e9-9170-00505683ad44","resourceVersion":"866575","creationTimestamp":"2019-04-07T21:47:27Z","labels":{"app":"longhorn-manager","controller-revision-hash":"2048523838","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.1.20/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"longhorn-manager","uid":"bc58ffc6-597e-11e9-8887-005056833dd1","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"dev","hostPath":{"path":"/dev/","type":""}},{"name":"proc","hostPath":{"path":"/proc/","type":""}},{"name":"varrun","hostPath":{"path":"/var/run/","type":""}},{"name":"longhorn","hostPath":{"path":"/var/lib/rancher/longhorn/","type":""}},{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"containers":[{"name":"longhorn-manager","image":"repo.optanix.io/longhorn-manager:v0.3.3","command":["longhorn-manager","-d","daemon","--engine-image","repo.optanix.io/longhorn-engine:v0.3.3","--manager-image","repo.optanix.io/longhorn-manager:v0.3.3","--service-account","longhorn-service-account"],"ports":[{"name":"manager","containerPort":9500,"protocol":"TCP"}],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"LONGHORN_BACKEND_SVC","value":"longhorn-backend"}],"resources":{},"volumeMounts":[{"name":"dev","mountPath":"/host/dev/"},{"name":"proc","mountPath":"/host/proc/"},{"name":"varrun","mountPath":"/var/run/"},{"name":"longhorn","mountPath":"/var/lib/rancher/longhorn/","mountPropagation":"Bidirectional"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.198","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:54:45Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"}],"hostIP":"172.16.30.198","podIP":"10.42.1.20","startTime":"2019-04-07T21:47:27Z","containerStatuses":[{"name":"longhorn-manager","state":{"running":{"startedAt":"2019-04-07T21:54:39Z"}},"lastState":{},"ready":true,"restartCount":2,"image":"repo.optanix.io/longhorn-manager:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-manager@sha256:aa4b24ba4eabf56c3f7eb4c09971b18941cdd87c569338527ac007dc76cdb4fe","containerID":"docker://16bb8bb492c1db06afa258ab251e5909e28f6a12898b506341824dc1e1d9e667"}],"qosClass":"BestEffort"}},{"metadata":{"name":"longhorn-ui-649f96d57b-xm7wb","generateName":"longhorn-ui-649f96d57b-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/longhorn-ui-649f96d57b-xm7wb","uid":"bca015d6-597e-11e9-9170-00505683ad44","resourceVersion":"866318","creationTimestamp":"2019-04-07T21:47:27Z","labels":{"app":"longhorn-ui","pod-template-hash":"2059528136"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.21/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"longhorn-ui-649f96d57b","uid":"bc904acd-597e-11e9-9170-00505683ad44","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"longhorn-ui","image":"repo.optanix.io/longhorn-ui:v0.3.3","ports":[{"name":"http","containerPort":8000,"protocol":"TCP"}],"env":[{"name":"LONGHORN_MANAGER_IP","value":"http://longhorn-backend:9500"}],"resources":{},"volumeMounts":[{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.195","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:00Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.21","startTime":"2019-04-07T21:47:27Z","containerStatuses":[{"name":"longhorn-ui","state":{"running":{"startedAt":"2019-04-07T21:55:00Z"}},"lastState":{},"ready":true,"restartCount":2,"image":"repo.optanix.io/longhorn-ui:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-ui@sha256:6b23a96ccc48d450b9eee6335e764397ffe28d5fe4324945506e0219b915908f","containerID":"docker://2f1f0d3fe5f8b00d47f852ee6cb9db518abc866da5cdbf217827fe9b1186da64"}],"qosClass":"BestEffort"}},{"metadata":{"name":"mysqlha-9qf5j","generateName":"mysqlha-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/mysqlha-9qf5j","uid":"c50be492-5d82-11e9-bf08-00505683ad44","resourceVersion":"876865","creationTimestamp":"2019-04-13T00:26:24Z","labels":{"app":"mysqlha","app.kubernetes.io/component":"database","app.kubernetes.io/instance":"mysqlha","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"mysqlha","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"5.7.25","chart":"mysqlha-0.1.0","component":"server","controller-revision-hash":"2794143518","helm.sh/chart":"mysqlha-0.1.0","heritage":"Tiller","pod-template-generation":"1","release":"mysqlha"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.110/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"mysqlha","uid":"c4c78e1e-5d82-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","hostPath":{"path":"/var/lib/mysql","type":""}},{"name":"conf","hostPath":{"path":"/etc/mysql/conf.d","type":""}},{"name":"config-map","configMap":{"name":"mysqlha","defaultMode":420}},{"name":"scripts","configMap":{"name":"mysqlha-scripts","defaultMode":420}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"initContainers":[{"name":"role-check","image":"consul:1.3.1","command":["/bin/sh"],"args":["/mnt/scripts/master_check.sh"],"env":[{"name":"CONSUL_DC","value":"optx"},{"name":"CONSUL_HTTP_ADDR","value":"consul-server.default.svc.cluster.local:8500"},{"name":"CONSUL_HTTP_SSL_VERIFY","value":"false"}],"resources":{},"volumeMounts":[{"name":"conf","mountPath":"/mnt/conf.d"},{"name":"config-map","mountPath":"/mnt/config-map"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"clone-mysql","image":"gcr.io/google-samples/xtrabackup:1.0","command":["/bin/bash"],"args":["/mnt/scripts/clone_mysql.sh"],"env":[{"name":"MYSQL_REPLICATION_USER","value":"repl"},{"name":"MYSQL_REPLICATION_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-replication-password"}}}],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/var/lib/mysql"},{"name":"conf","mountPath":"/etc/mysql/conf.d"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"init-mysql","image":"consul:1.3.1","command":["/bin/sh"],"args":["/mnt/scripts/mysql_init.sh"],"resources":{},"volumeMounts":[{"name":"conf","mountPath":"/mnt/conf.d"},{"name":"config-map","mountPath":"/mnt/config-map"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"data","mountPath":"/mnt/data"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"mysql","image":"percona:5.7.25","ports":[{"name":"mysql","containerPort":3306,"protocol":"TCP"}],"env":[{"name":"MYSQL_DATABASE"},{"name":"MYSQL_ROOT_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-root-password"}}},{"name":"MYSQL_REPLICATION_USER","value":"repl"},{"name":"MYSQL_REPLICATION_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-replication-password"}}},{"name":"MYSQL_USER","value":"optanix"},{"name":"MYSQL_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-password"}}}],"resources":{"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"data","mountPath":"/var/lib/mysql"},{"name":"conf","mountPath":"/etc/my.cnf.d"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/sh","-c","mysqladmin ping -h 127.0.0.1 -u root -p${MYSQL_ROOT_PASSWORD}"]},"initialDelaySeconds":30,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/sh","-c","MYSQL_PWD=\"${MYSQL_ROOT_PASSWORD}\"","mysql -h 127.0.0.1 -u root -e \"SELECT 1\""]},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"xtrabackup","image":"gcr.io/google-samples/xtrabackup:1.0","command":["/bin/bash"],"args":["/mnt/scripts/xtrabackup.sh"],"ports":[{"name":"xtrabackup","containerPort":3307,"protocol":"TCP"}],"env":[{"name":"MYSQL_PWD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-root-password"}}},{"name":"MYSQL_REPLICATION_USER","value":"repl"},{"name":"MYSQL_REPLICATION_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-replication-password"}}}],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/var/lib/mysql"},{"name":"conf","mountPath":"/etc/mysql/conf.d"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-13T00:27:41Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-13T00:28:01Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-13T00:26:24Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.110","startTime":"2019-04-13T00:26:24Z","initContainerStatuses":[{"name":"role-check","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-13T00:26:25Z","finishedAt":"2019-04-13T00:26:46Z","containerID":"docker://965783aba194d80f531c3341fc1a4b0659d76b3aba0bcc0320550015d4d55a2c"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://965783aba194d80f531c3341fc1a4b0659d76b3aba0bcc0320550015d4d55a2c"},{"name":"clone-mysql","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-13T00:27:33Z","finishedAt":"2019-04-13T00:27:40Z","containerID":"docker://65cb5fe0bf3ddf37adb9473e7e14f71421077af351dc167740399453c695e81d"}},"lastState":{},"ready":true,"restartCount":3,"image":"gcr.io/google-samples/xtrabackup:1.0","imageID":"docker-pullable://gcr.io/google-samples/xtrabackup@sha256:29354f70c9d9207e757a1bae6a4cbf2f57a56b18fe5c2b0acc1198a053b24b38","containerID":"docker://65cb5fe0bf3ddf37adb9473e7e14f71421077af351dc167740399453c695e81d"},{"name":"init-mysql","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-13T00:27:41Z","finishedAt":"2019-04-13T00:27:41Z","containerID":"docker://be61438aabcb6b0af9fecb0dedf5f871739c137d34d0d16a363b5ee222d1da75"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://be61438aabcb6b0af9fecb0dedf5f871739c137d34d0d16a363b5ee222d1da75"}],"containerStatuses":[{"name":"mysql","state":{"running":{"startedAt":"2019-04-13T00:27:42Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"percona:5.7.25","imageID":"docker-pullable://percona@sha256:3a5b2e2f52b444ac4449e469b957348a8953b5b372bd15e1c740eb5e8c01177b","containerID":"docker://29004738c598a923791fc5534257983d9dd7039c47de3b3a4a58364999f74e25"},{"name":"xtrabackup","state":{"running":{"startedAt":"2019-04-13T00:27:42Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/google-samples/xtrabackup:1.0","imageID":"docker-pullable://gcr.io/google-samples/xtrabackup@sha256:29354f70c9d9207e757a1bae6a4cbf2f57a56b18fe5c2b0acc1198a053b24b38","containerID":"docker://10a65ce3514eb753eee9745e4262874a3262c7cdcb675c3ef780750eb570e143"}],"qosClass":"Burstable"}},{"metadata":{"name":"mysqlha-helper-64bd588c66-t7p85","generateName":"mysqlha-helper-64bd588c66-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/mysqlha-helper-64bd588c66-t7p85","uid":"c51ba3b4-5d82-11e9-bf08-00505683ad44","resourceVersion":"881015","creationTimestamp":"2019-04-13T00:26:24Z","labels":{"app":"mysqlha","app.kubernetes.io/component":"database","app.kubernetes.io/instance":"mysqlha","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"mysqlha","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"5.7.25","chart":"mysqlha-0.1.0","component":"helper","helm.sh/chart":"mysqlha-0.1.0","heritage":"Tiller","pod-template-hash":"2068144722","release":"mysqlha"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.157/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"mysqlha-helper-64bd588c66","uid":"c50a8498-5d82-11e9-bf08-00505683ad44","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"mysqlha-helper-token-fcv68","secret":{"secretName":"mysqlha-helper-token-fcv68","defaultMode":420}}],"containers":[{"name":"mysqlha-helper","image":"repo.optanix.io/mysqlha-helper:latest","command":["/bin/mysqlha-helper"],"env":[{"name":"CONSUL_DC","value":"optx"},{"name":"CONSUL_HTTP_ADDR","value":"consul-server.default.svc.cluster.local:8500"},{"name":"CONSUL_HTTP_SSL_VERIFY","value":"false"},{"name":"POD_HELM_APP","value":"mysqlha"},{"name":"POD_HELM_CHART","value":"mysqlha-0.1.0"},{"name":"POD_HELM_RELEASE","value":"mysqlha"},{"name":"POD_HELM_HERITAGE","value":"Tiller"}],"resources":{},"volumeMounts":[{"name":"mysqlha-helper-token-fcv68","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"mysqlha-helper","serviceAccount":"mysqlha-helper","nodeName":"172.16.30.195","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-13T00:26:24Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-13T01:03:30Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-13T00:26:24Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.157","startTime":"2019-04-13T00:26:24Z","containerStatuses":[{"name":"mysqlha-helper","state":{"running":{"startedAt":"2019-04-13T01:03:29Z"}},"lastState":{"terminated":{"exitCode":1,"reason":"Error","startedAt":"2019-04-13T00:26:25Z","finishedAt":"2019-04-13T01:03:28Z","containerID":"docker://769304fd292acb76642decf0d3c59e1ae510dc04496beb38cca949b2699f6a5a"}},"ready":true,"restartCount":1,"image":"repo.optanix.io/mysqlha-helper:latest","imageID":"docker-pullable://repo.optanix.io/mysqlha-helper@sha256:3af1305b6c75aa9040c5c00d4b37639eae837da0607edb5d1aefe049526702cd","containerID":"docker://4126789156cee477e6cabea5b2fcbf1f79f4f9021f4115229282be31c715e72c"}],"qosClass":"BestEffort"}},{"metadata":{"name":"mysqlha-htvtb","generateName":"mysqlha-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/mysqlha-htvtb","uid":"10f8c918-5d89-11e9-bf08-00505683ad44","resourceVersion":"882966","creationTimestamp":"2019-04-13T01:11:28Z","labels":{"app":"mysqlha","app.kubernetes.io/component":"database","app.kubernetes.io/instance":"mysqlha","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"mysqlha","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"5.7.25","chart":"mysqlha-0.1.0","component":"server","controller-revision-hash":"2794143518","helm.sh/chart":"mysqlha-0.1.0","heritage":"Tiller","pod-template-generation":"1","release":"mysqlha","test":"test"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.159/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"mysqlha","uid":"c4c78e1e-5d82-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","hostPath":{"path":"/var/lib/mysql","type":""}},{"name":"conf","hostPath":{"path":"/etc/mysql/conf.d","type":""}},{"name":"config-map","configMap":{"name":"mysqlha","defaultMode":420}},{"name":"scripts","configMap":{"name":"mysqlha-scripts","defaultMode":420}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"initContainers":[{"name":"role-check","image":"consul:1.3.1","command":["/bin/sh"],"args":["/mnt/scripts/master_check.sh"],"env":[{"name":"CONSUL_DC","value":"optx"},{"name":"CONSUL_HTTP_ADDR","value":"consul-server.default.svc.cluster.local:8500"},{"name":"CONSUL_HTTP_SSL_VERIFY","value":"false"}],"resources":{},"volumeMounts":[{"name":"conf","mountPath":"/mnt/conf.d"},{"name":"config-map","mountPath":"/mnt/config-map"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"clone-mysql","image":"gcr.io/google-samples/xtrabackup:1.0","command":["/bin/bash"],"args":["/mnt/scripts/clone_mysql.sh"],"env":[{"name":"MYSQL_REPLICATION_USER","value":"repl"},{"name":"MYSQL_REPLICATION_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-replication-password"}}}],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/var/lib/mysql"},{"name":"conf","mountPath":"/etc/mysql/conf.d"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"init-mysql","image":"consul:1.3.1","command":["/bin/sh"],"args":["/mnt/scripts/mysql_init.sh"],"resources":{},"volumeMounts":[{"name":"conf","mountPath":"/mnt/conf.d"},{"name":"config-map","mountPath":"/mnt/config-map"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"data","mountPath":"/mnt/data"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"mysql","image":"percona:5.7.25","ports":[{"name":"mysql","containerPort":3306,"protocol":"TCP"}],"env":[{"name":"MYSQL_DATABASE"},{"name":"MYSQL_ROOT_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-root-password"}}},{"name":"MYSQL_REPLICATION_USER","value":"repl"},{"name":"MYSQL_REPLICATION_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-replication-password"}}},{"name":"MYSQL_USER","value":"optanix"},{"name":"MYSQL_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-password"}}}],"resources":{"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"data","mountPath":"/var/lib/mysql"},{"name":"conf","mountPath":"/etc/my.cnf.d"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/sh","-c","mysqladmin ping -h 127.0.0.1 -u root -p${MYSQL_ROOT_PASSWORD}"]},"initialDelaySeconds":30,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/sh","-c","MYSQL_PWD=\"${MYSQL_ROOT_PASSWORD}\"","mysql -h 127.0.0.1 -u root -e \"SELECT 1\""]},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"xtrabackup","image":"gcr.io/google-samples/xtrabackup:1.0","command":["/bin/bash"],"args":["/mnt/scripts/xtrabackup.sh"],"ports":[{"name":"xtrabackup","containerPort":3307,"protocol":"TCP"}],"env":[{"name":"MYSQL_PWD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-root-password"}}},{"name":"MYSQL_REPLICATION_USER","value":"repl"},{"name":"MYSQL_REPLICATION_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-replication-password"}}}],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/var/lib/mysql"},{"name":"conf","mountPath":"/etc/mysql/conf.d"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.195","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-13T01:11:38Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-13T01:11:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-13T01:11:28Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.159","startTime":"2019-04-13T01:11:28Z","initContainerStatuses":[{"name":"role-check","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-13T01:11:29Z","finishedAt":"2019-04-13T01:11:29Z","containerID":"docker://c0d0f2180fb20d6517da6f8143ffc26c70d5bad2a540e739da2c1980892ac833"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://c0d0f2180fb20d6517da6f8143ffc26c70d5bad2a540e739da2c1980892ac833"},{"name":"clone-mysql","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-13T01:11:30Z","finishedAt":"2019-04-13T01:11:36Z","containerID":"docker://23b4630daea0611f74f6247891bff237f7f8feed838a8a210b0f3345663ad97d"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/google-samples/xtrabackup:1.0","imageID":"docker-pullable://gcr.io/google-samples/xtrabackup@sha256:29354f70c9d9207e757a1bae6a4cbf2f57a56b18fe5c2b0acc1198a053b24b38","containerID":"docker://23b4630daea0611f74f6247891bff237f7f8feed838a8a210b0f3345663ad97d"},{"name":"init-mysql","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-13T01:11:37Z","finishedAt":"2019-04-13T01:11:37Z","containerID":"docker://300225a271ad1d0ac76dc15ae699e83b7f80594e181db829ceb5d3365228867d"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://300225a271ad1d0ac76dc15ae699e83b7f80594e181db829ceb5d3365228867d"}],"containerStatuses":[{"name":"mysql","state":{"running":{"startedAt":"2019-04-13T01:11:38Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"percona:5.7.25","imageID":"docker-pullable://percona@sha256:3a5b2e2f52b444ac4449e469b957348a8953b5b372bd15e1c740eb5e8c01177b","containerID":"docker://60b04263c2a10b532b16584c07e5b0115dcfbc1ae1a44b1055783505e3e4707a"},{"name":"xtrabackup","state":{"running":{"startedAt":"2019-04-13T01:11:38Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/google-samples/xtrabackup:1.0","imageID":"docker-pullable://gcr.io/google-samples/xtrabackup@sha256:29354f70c9d9207e757a1bae6a4cbf2f57a56b18fe5c2b0acc1198a053b24b38","containerID":"docker://65a512930c7839199413b31504a49a35e06a232bf21d131de36e0c219771166e"}],"qosClass":"Burstable"}},{"metadata":{"name":"mysqlha-s828g","generateName":"mysqlha-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/mysqlha-s828g","uid":"853628b5-5d87-11e9-bf08-00505683ad44","resourceVersion":"880694","creationTimestamp":"2019-04-13T01:00:24Z","labels":{"app":"mysqlha","app.kubernetes.io/component":"database","app.kubernetes.io/instance":"mysqlha","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"mysqlha","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"5.7.25","chart":"mysqlha-0.1.0","component":"server","controller-revision-hash":"2794143518","helm.sh/chart":"mysqlha-0.1.0","heritage":"Tiller","pod-template-generation":"1","release":"mysqlha"},"annotations":{"cni.projectcalico.org/podIP":"10.42.1.110/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"mysqlha","uid":"c4c78e1e-5d82-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","hostPath":{"path":"/var/lib/mysql","type":""}},{"name":"conf","hostPath":{"path":"/etc/mysql/conf.d","type":""}},{"name":"config-map","configMap":{"name":"mysqlha","defaultMode":420}},{"name":"scripts","configMap":{"name":"mysqlha-scripts","defaultMode":420}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"initContainers":[{"name":"role-check","image":"consul:1.3.1","command":["/bin/sh"],"args":["/mnt/scripts/master_check.sh"],"env":[{"name":"CONSUL_DC","value":"optx"},{"name":"CONSUL_HTTP_ADDR","value":"consul-server.default.svc.cluster.local:8500"},{"name":"CONSUL_HTTP_SSL_VERIFY","value":"false"}],"resources":{},"volumeMounts":[{"name":"conf","mountPath":"/mnt/conf.d"},{"name":"config-map","mountPath":"/mnt/config-map"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"clone-mysql","image":"gcr.io/google-samples/xtrabackup:1.0","command":["/bin/bash"],"args":["/mnt/scripts/clone_mysql.sh"],"env":[{"name":"MYSQL_REPLICATION_USER","value":"repl"},{"name":"MYSQL_REPLICATION_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-replication-password"}}}],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/var/lib/mysql"},{"name":"conf","mountPath":"/etc/mysql/conf.d"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"init-mysql","image":"consul:1.3.1","command":["/bin/sh"],"args":["/mnt/scripts/mysql_init.sh"],"resources":{},"volumeMounts":[{"name":"conf","mountPath":"/mnt/conf.d"},{"name":"config-map","mountPath":"/mnt/config-map"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"data","mountPath":"/mnt/data"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"mysql","image":"percona:5.7.25","ports":[{"name":"mysql","containerPort":3306,"protocol":"TCP"}],"env":[{"name":"MYSQL_DATABASE"},{"name":"MYSQL_ROOT_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-root-password"}}},{"name":"MYSQL_REPLICATION_USER","value":"repl"},{"name":"MYSQL_REPLICATION_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-replication-password"}}},{"name":"MYSQL_USER","value":"optanix"},{"name":"MYSQL_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-password"}}}],"resources":{"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"data","mountPath":"/var/lib/mysql"},{"name":"conf","mountPath":"/etc/my.cnf.d"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/sh","-c","mysqladmin ping -h 127.0.0.1 -u root -p${MYSQL_ROOT_PASSWORD}"]},"initialDelaySeconds":30,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/sh","-c","MYSQL_PWD=\"${MYSQL_ROOT_PASSWORD}\"","mysql -h 127.0.0.1 -u root -e \"SELECT 1\""]},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"xtrabackup","image":"gcr.io/google-samples/xtrabackup:1.0","command":["/bin/bash"],"args":["/mnt/scripts/xtrabackup.sh"],"ports":[{"name":"xtrabackup","containerPort":3307,"protocol":"TCP"}],"env":[{"name":"MYSQL_PWD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-root-password"}}},{"name":"MYSQL_REPLICATION_USER","value":"repl"},{"name":"MYSQL_REPLICATION_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-replication-password"}}}],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/var/lib/mysql"},{"name":"conf","mountPath":"/etc/mysql/conf.d"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.198","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-13T01:00:35Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-13T01:00:55Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-13T01:00:24Z"}],"hostIP":"172.16.30.198","podIP":"10.42.1.110","startTime":"2019-04-13T01:00:24Z","initContainerStatuses":[{"name":"role-check","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-13T01:00:25Z","finishedAt":"2019-04-13T01:00:25Z","containerID":"docker://38e55ed62283b4622a25148db23b2006d1afdc5c87d81d0a6188586310b9573d"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://38e55ed62283b4622a25148db23b2006d1afdc5c87d81d0a6188586310b9573d"},{"name":"clone-mysql","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-13T01:00:27Z","finishedAt":"2019-04-13T01:00:33Z","containerID":"docker://a325165d6af9557420bae55357c84b68fb81b4871189d3374c868547f1705119"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/google-samples/xtrabackup:1.0","imageID":"docker-pullable://gcr.io/google-samples/xtrabackup@sha256:29354f70c9d9207e757a1bae6a4cbf2f57a56b18fe5c2b0acc1198a053b24b38","containerID":"docker://a325165d6af9557420bae55357c84b68fb81b4871189d3374c868547f1705119"},{"name":"init-mysql","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-13T01:00:35Z","finishedAt":"2019-04-13T01:00:35Z","containerID":"docker://35173c4b375f4b20cd2cdd9696bf0710ed1d42fdbc0b8d7a73ff5caa97e09e6a"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://35173c4b375f4b20cd2cdd9696bf0710ed1d42fdbc0b8d7a73ff5caa97e09e6a"}],"containerStatuses":[{"name":"mysql","state":{"running":{"startedAt":"2019-04-13T01:00:36Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"percona:5.7.25","imageID":"docker-pullable://percona@sha256:3a5b2e2f52b444ac4449e469b957348a8953b5b372bd15e1c740eb5e8c01177b","containerID":"docker://80b50a769c1e8d7d2e22f9bfa2b4816a0c64660792c1f458a455c8c8f1110945"},{"name":"xtrabackup","state":{"running":{"startedAt":"2019-04-13T01:00:36Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/google-samples/xtrabackup:1.0","imageID":"docker-pullable://gcr.io/google-samples/xtrabackup@sha256:29354f70c9d9207e757a1bae6a4cbf2f57a56b18fe5c2b0acc1198a053b24b38","containerID":"docker://6573896169e5fc131beb7890fb376e1f6c39a0f5d6c58a49e26d0fc98d90c248"}],"qosClass":"Burstable"}},{"metadata":{"name":"pvc-a79222305c5b11e9-e-40cde065","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/pvc-a79222305c5b11e9-e-40cde065","uid":"ac68b7a9-5c5b-11e9-bf08-00505683ad44","resourceVersion":"621135","creationTimestamp":"2019-04-11T13:14:01Z","annotations":{"cni.projectcalico.org/podIP":"10.42.0.59/32"},"ownerReferences":[{"apiVersion":"longhorn.rancher.io/v1alpha1","kind":"longhorn.rancher.io/v1alpha1, Kind=Engine","name":"pvc-a79222305c5b11e9-e-40cde065","uid":"a7c91de6-5c5b-11e9-bf08-00505683ad44"}]},"spec":{"volumes":[{"name":"dev","hostPath":{"path":"/dev","type":""}},{"name":"proc","hostPath":{"path":"/proc","type":""}},{"name":"engine-binaries","hostPath":{"path":"/var/lib/rancher/longhorn/engine-binaries/","type":""}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"pvc-a79222305c5b11e9-e-40cde065","image":"repo.optanix.io/longhorn-engine:v0.3.3","command":["engine-launcher","start","--launcher-listen","0.0.0.0:9510","--longhorn-binary","/usr/local/bin/longhorn","--listen","0.0.0.0:9501","--frontend","tgt-blockdev","--size","10737418240","--replica","tcp://10.42.0.57:9502","--replica","tcp://10.42.1.53:9502","--replica","tcp://10.42.0.58:9502","pvc-a79222305c5b11e9"],"resources":{},"volumeMounts":[{"name":"dev","mountPath":"/host/dev"},{"name":"proc","mountPath":"/host/proc"},{"name":"engine-binaries","mountPath":"/engine-binaries/"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["ls","/dev/longhorn/pvc-a79222305c5b11e9"]},"initialDelaySeconds":1,"timeoutSeconds":1,"periodSeconds":1,"successThreshold":1,"failureThreshold":15},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:14:01Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:14:06Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:14:01Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.59","startTime":"2019-04-11T13:14:01Z","containerStatuses":[{"name":"pvc-a79222305c5b11e9-e-40cde065","state":{"running":{"startedAt":"2019-04-11T13:14:03Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/longhorn-engine:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-engine@sha256:813c15c85fc9e61d4225a38f22e0d9d7ae358bfd131e38fdb73b5192ff698526","containerID":"docker://0e62d77d02b2004d46008282e86fdb7a4fb46b36b2ebe153a7eb75c9aaa3e142"}],"qosClass":"BestEffort"}},{"metadata":{"name":"pvc-a79222305c5b11e9-r-42535143","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/pvc-a79222305c5b11e9-r-42535143","uid":"a8f9e48c-5c5b-11e9-bf08-00505683ad44","resourceVersion":"621099","creationTimestamp":"2019-04-11T13:13:55Z","labels":{"longhorn-volume-replica":"pvc-a79222305c5b11e9"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.57/32"},"ownerReferences":[{"apiVersion":"longhorn.rancher.io/v1alpha1","kind":"longhorn.rancher.io/v1alpha1, Kind=Replica","name":"pvc-a79222305c5b11e9-r-42535143","uid":"a7e8fedf-5c5b-11e9-bf08-00505683ad44"}]},"spec":{"volumes":[{"name":"volume","hostPath":{"path":"/var/lib/rancher/longhorn/replicas/pvc-a79222305c5b11e9-52096d51","type":""}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"pvc-a79222305c5b11e9-r-42535143","image":"repo.optanix.io/longhorn-engine:v0.3.3","command":["longhorn","replica","--listen","0.0.0.0:9502","--size","10737418240","/volume"],"resources":{},"volumeMounts":[{"name":"volume","mountPath":"/volume"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/v1","port":9502,"scheme":"HTTP"},"initialDelaySeconds":1,"timeoutSeconds":1,"periodSeconds":1,"successThreshold":1,"failureThreshold":10},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:59Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:56Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.57","startTime":"2019-04-11T13:13:56Z","containerStatuses":[{"name":"pvc-a79222305c5b11e9-r-42535143","state":{"running":{"startedAt":"2019-04-11T13:13:58Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/longhorn-engine:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-engine@sha256:813c15c85fc9e61d4225a38f22e0d9d7ae358bfd131e38fdb73b5192ff698526","containerID":"docker://53919d22a7ae891a5ae80afad7dc595840b3640a2837f57baae95f70fadafd59"}],"qosClass":"BestEffort"}},{"metadata":{"name":"pvc-a79222305c5b11e9-r-5d3e4ff1","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/pvc-a79222305c5b11e9-r-5d3e4ff1","uid":"a936b60c-5c5b-11e9-bf08-00505683ad44","resourceVersion":"621086","creationTimestamp":"2019-04-11T13:13:56Z","labels":{"longhorn-volume-replica":"pvc-a79222305c5b11e9"},"annotations":{"cni.projectcalico.org/podIP":"10.42.1.53/32"},"ownerReferences":[{"apiVersion":"longhorn.rancher.io/v1alpha1","kind":"longhorn.rancher.io/v1alpha1, Kind=Replica","name":"pvc-a79222305c5b11e9-r-5d3e4ff1","uid":"a7edb870-5c5b-11e9-bf08-00505683ad44"}]},"spec":{"volumes":[{"name":"volume","hostPath":{"path":"/var/lib/rancher/longhorn/replicas/pvc-a79222305c5b11e9-55df5eb3","type":""}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"pvc-a79222305c5b11e9-r-5d3e4ff1","image":"repo.optanix.io/longhorn-engine:v0.3.3","command":["longhorn","replica","--listen","0.0.0.0:9502","--size","10737418240","/volume"],"resources":{},"volumeMounts":[{"name":"volume","mountPath":"/volume"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/v1","port":9502,"scheme":"HTTP"},"initialDelaySeconds":1,"timeoutSeconds":1,"periodSeconds":1,"successThreshold":1,"failureThreshold":10},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.198","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:55Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:58Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:55Z"}],"hostIP":"172.16.30.198","podIP":"10.42.1.53","startTime":"2019-04-11T13:13:55Z","containerStatuses":[{"name":"pvc-a79222305c5b11e9-r-5d3e4ff1","state":{"running":{"startedAt":"2019-04-11T13:13:57Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/longhorn-engine:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-engine@sha256:813c15c85fc9e61d4225a38f22e0d9d7ae358bfd131e38fdb73b5192ff698526","containerID":"docker://b4de11c07257fb3881d91e6ab68f740a73973490e75a414b81d58ff85ad5d04a"}],"qosClass":"BestEffort"}},{"metadata":{"name":"pvc-a79222305c5b11e9-r-c5fadd88","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/pvc-a79222305c5b11e9-r-c5fadd88","uid":"a9c959f2-5c5b-11e9-bf08-00505683ad44","resourceVersion":"621105","creationTimestamp":"2019-04-11T13:13:57Z","labels":{"longhorn-volume-replica":"pvc-a79222305c5b11e9"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.58/32"},"ownerReferences":[{"apiVersion":"longhorn.rancher.io/v1alpha1","kind":"longhorn.rancher.io/v1alpha1, Kind=Replica","name":"pvc-a79222305c5b11e9-r-c5fadd88","uid":"a7dec88f-5c5b-11e9-bf08-00505683ad44"}]},"spec":{"volumes":[{"name":"volume","hostPath":{"path":"/var/lib/rancher/longhorn/replicas/pvc-a79222305c5b11e9-850e4bdb","type":""}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"pvc-a79222305c5b11e9-r-c5fadd88","image":"repo.optanix.io/longhorn-engine:v0.3.3","command":["longhorn","replica","--listen","0.0.0.0:9502","--size","10737418240","/volume"],"resources":{},"volumeMounts":[{"name":"volume","mountPath":"/volume"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/v1","port":9502,"scheme":"HTTP"},"initialDelaySeconds":1,"timeoutSeconds":1,"periodSeconds":1,"successThreshold":1,"failureThreshold":10},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:57Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:14:00Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-11T13:13:57Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.58","startTime":"2019-04-11T13:13:57Z","containerStatuses":[{"name":"pvc-a79222305c5b11e9-r-c5fadd88","state":{"running":{"startedAt":"2019-04-11T13:13:59Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/longhorn-engine:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-engine@sha256:813c15c85fc9e61d4225a38f22e0d9d7ae358bfd131e38fdb73b5192ff698526","containerID":"docker://894b4dec82921a359c59d013162a446b7291c5d438bed544a0dfb7d67ed27a6e"}],"qosClass":"BestEffort"}}]}

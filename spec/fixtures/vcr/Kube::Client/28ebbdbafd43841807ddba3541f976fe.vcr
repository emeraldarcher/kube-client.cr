HTTP/1.1 200 OK
Content-Type: application/json
Date: Wed, 10 Apr 2019 17:40:37 GMT
Connection: close
Transfer-Encoding: chunked
Content-Length: 113212

{"kind":"PodList","apiVersion":"v1","metadata":{"selfLink":"/api/v1/namespaces/default/pods","resourceVersion":"486824"},"items":[{"metadata":{"name":"consul-dqt9d","generateName":"consul-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/consul-dqt9d","uid":"0aded108-5989-11e9-bf08-00505683ad44","resourceVersion":"24648","creationTimestamp":"2019-04-07T23:01:13Z","labels":{"app":"consul","app.kubernetes.io/component":"backend","app.kubernetes.io/instance":"consul","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"consul","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"1.3.1","chart":"consul-0.1.4","component":"client","controller-revision-hash":"3043078523","hasDNS":"true","helm.sh/chart":"consul-0.1.4","pod-template-generation":"1","release":"consul"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.32/32","consul.hashicorp.com/connect-inject":"false"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"consul","uid":"0a8a3d97-5989-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","emptyDir":{}},{"name":"config","configMap":{"name":"consul-client-config","defaultMode":420}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"consul","image":"repo.optanix.io/consul:1.3.1","command":["/bin/sh","-ec","CONSUL_FULLNAME=\"consul\"\n\nexec /bin/consul agent \\\n  -node=\"${NODE}-kube\" \\\n  -advertise=\"${POD_IP}\" \\\n  -bind=0.0.0.0 \\\n  -client=0.0.0.0 \\\n  -config-dir=/consul/config \\\n  -datacenter=optx \\\n  -data-dir=/consul/data \\\n  -retry-join=${CONSUL_FULLNAME}-server-0.${CONSUL_FULLNAME}-server.${NAMESPACE}.svc \\\n  -domain=consul.local\n"],"ports":[{"name":"http","hostPort":8500,"containerPort":8500,"protocol":"TCP"},{"name":"grpc","hostPort":8502,"containerPort":8502,"protocol":"TCP"},{"name":"serflan","containerPort":8301,"protocol":"TCP"},{"name":"serfwan","containerPort":8302,"protocol":"TCP"},{"name":"server","containerPort":8300,"protocol":"TCP"},{"name":"dns-tcp","containerPort":8600,"protocol":"TCP"},{"name":"dns-udp","containerPort":8600,"protocol":"UDP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"NODE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}}],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/consul/data"},{"name":"config","mountPath":"/consul/config"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/bin/sh","-ec","curl http://127.0.0.1:8500/v1/status/leader 2\u003e/dev/null | \\\ngrep -E '\".+\"'\n"]},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/sh","-c","consul leave"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":10,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.195","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:13Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:02:20Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:13Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.32","startTime":"2019-04-07T23:01:13Z","containerStatuses":[{"name":"consul","state":{"running":{"startedAt":"2019-04-07T23:01:15Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/consul:1.3.1","imageID":"docker-pullable://repo.optanix.io/consul@sha256:a0181db0ded6a9f03a7b1542aa12dd497b659c1163e2de305e46b437db3e0a1f","containerID":"docker://4ce98cf3afa48f72a94279150f9ab9772619f2d4051eb4167832983500dee574"}],"qosClass":"BestEffort"}},{"metadata":{"name":"consul-hc5dq","generateName":"consul-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/consul-hc5dq","uid":"0ad7e292-5989-11e9-bf08-00505683ad44","resourceVersion":"24651","creationTimestamp":"2019-04-07T23:01:13Z","labels":{"app":"consul","app.kubernetes.io/component":"backend","app.kubernetes.io/instance":"consul","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"consul","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"1.3.1","chart":"consul-0.1.4","component":"client","controller-revision-hash":"3043078523","hasDNS":"true","helm.sh/chart":"consul-0.1.4","pod-template-generation":"1","release":"consul"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.26/32","consul.hashicorp.com/connect-inject":"false"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"consul","uid":"0a8a3d97-5989-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","emptyDir":{}},{"name":"config","configMap":{"name":"consul-client-config","defaultMode":420}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"consul","image":"repo.optanix.io/consul:1.3.1","command":["/bin/sh","-ec","CONSUL_FULLNAME=\"consul\"\n\nexec /bin/consul agent \\\n  -node=\"${NODE}-kube\" \\\n  -advertise=\"${POD_IP}\" \\\n  -bind=0.0.0.0 \\\n  -client=0.0.0.0 \\\n  -config-dir=/consul/config \\\n  -datacenter=optx \\\n  -data-dir=/consul/data \\\n  -retry-join=${CONSUL_FULLNAME}-server-0.${CONSUL_FULLNAME}-server.${NAMESPACE}.svc \\\n  -domain=consul.local\n"],"ports":[{"name":"http","hostPort":8500,"containerPort":8500,"protocol":"TCP"},{"name":"grpc","hostPort":8502,"containerPort":8502,"protocol":"TCP"},{"name":"serflan","containerPort":8301,"protocol":"TCP"},{"name":"serfwan","containerPort":8302,"protocol":"TCP"},{"name":"server","containerPort":8300,"protocol":"TCP"},{"name":"dns-tcp","containerPort":8600,"protocol":"TCP"},{"name":"dns-udp","containerPort":8600,"protocol":"UDP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"NODE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}}],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/consul/data"},{"name":"config","mountPath":"/consul/config"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/bin/sh","-ec","curl http://127.0.0.1:8500/v1/status/leader 2\u003e/dev/null | \\\ngrep -E '\".+\"'\n"]},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/sh","-c","consul leave"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":10,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:13Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:02:22Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:13Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.26","startTime":"2019-04-07T23:01:13Z","containerStatuses":[{"name":"consul","state":{"running":{"startedAt":"2019-04-07T23:01:15Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/consul:1.3.1","imageID":"docker-pullable://repo.optanix.io/consul@sha256:a0181db0ded6a9f03a7b1542aa12dd497b659c1163e2de305e46b437db3e0a1f","containerID":"docker://6f3606b38541191cd849c0fa14336643b4cd2d8ebdbd057dac21c98232457347"}],"qosClass":"BestEffort"}},{"metadata":{"name":"consul-server-0","generateName":"consul-server-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/consul-server-0","uid":"0af741f0-5989-11e9-bf08-00505683ad44","resourceVersion":"24571","creationTimestamp":"2019-04-07T23:01:14Z","labels":{"app":"consul","app.kubernetes.io/component":"backend","app.kubernetes.io/instance":"consul","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"consul","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"1.3.1","chart":"consul-0.1.4","component":"server","controller-revision-hash":"consul-server-69894667c9","hasDNS":"true","helm.sh/chart":"consul-0.1.4","release":"consul","statefulset.kubernetes.io/pod-name":"consul-server-0"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.29/32","consul.hashicorp.com/connect-inject":"false"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"consul-server","uid":"0a95f88d-5989-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-consul-server-0"}},{"name":"config","configMap":{"name":"consul-server-config","defaultMode":420}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"consul","image":"repo.optanix.io/consul:1.3.1","command":["/bin/sh","-ec","CONSUL_FULLNAME=\"consul\"\n\nexec /bin/consul agent \\\n  -advertise=\"${POD_IP}\" \\\n  -bind=0.0.0.0 \\\n  -bootstrap-expect=1 \\\n  -client=0.0.0.0 \\\n  -config-dir=/consul/config \\\n  -datacenter=optx \\\n  -data-dir=/consul/data \\\n  -domain=consul.local \\\n  -hcl=\"connect { enabled = true }\" \\\n  -ui \\\n  -retry-join=${CONSUL_FULLNAME}-server-0.${CONSUL_FULLNAME}-server.${NAMESPACE}.svc \\\n  -server\n"],"ports":[{"name":"http","containerPort":8500,"protocol":"TCP"},{"name":"serflan","containerPort":8301,"protocol":"TCP"},{"name":"serfwan","containerPort":8302,"protocol":"TCP"},{"name":"server","containerPort":8300,"protocol":"TCP"},{"name":"dns-tcp","containerPort":8600,"protocol":"TCP"},{"name":"dns-udp","containerPort":8600,"protocol":"UDP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}}],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/consul/data"},{"name":"config","mountPath":"/consul/config"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/bin/sh","-ec","curl http://127.0.0.1:8500/v1/status/leader 2\u003e/dev/null | \\\ngrep -E '\".+\"'\n"]},"initialDelaySeconds":5,"timeoutSeconds":5,"periodSeconds":3,"successThreshold":1,"failureThreshold":2},"lifecycle":{"preStop":{"exec":{"command":["/bin/sh","-c","consul leave"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":10,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.192","securityContext":{"fsGroup":1000},"hostname":"consul-server-0","subdomain":"consul-server","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:14Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:57Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:14Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.29","startTime":"2019-04-07T23:01:14Z","containerStatuses":[{"name":"consul","state":{"running":{"startedAt":"2019-04-07T23:01:49Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/consul:1.3.1","imageID":"docker-pullable://repo.optanix.io/consul@sha256:a0181db0ded6a9f03a7b1542aa12dd497b659c1163e2de305e46b437db3e0a1f","containerID":"docker://1f34321c74ee24125d46749d3f1c114cbdaaef33517dd20376427b96b2a27e6f"}],"qosClass":"BestEffort"}},{"metadata":{"name":"consul-sync-catalog-6b8559664-fpj2c","generateName":"consul-sync-catalog-6b8559664-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/consul-sync-catalog-6b8559664-fpj2c","uid":"0aec10a8-5989-11e9-bf08-00505683ad44","resourceVersion":"24380","creationTimestamp":"2019-04-07T23:01:14Z","labels":{"app":"consul","app.kubernetes.io/component":"backend","app.kubernetes.io/instance":"consul","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"consul","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"1.3.1","chart":"consul-0.1.4","component":"sync-catalog","helm.sh/chart":"consul-0.1.4","pod-template-hash":"264115220","release":"consul"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.33/32","consul.hashicorp.com/connect-inject":"false"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"consul-sync-catalog-6b8559664","uid":"0ad458b6-5989-11e9-bf08-00505683ad44","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"consul-sync-catalog-token-tzhzs","secret":{"secretName":"consul-sync-catalog-token-tzhzs","defaultMode":420}}],"containers":[{"name":"consul-sync-catalog","image":"hashicorp/consul-k8s:0.3.0","command":["/bin/sh","-ec","consul-k8s sync-catalog \\\n  -http-addr=${HOST_IP}:8500 \\\n  -k8s-default-sync=true \\\n  -to-k8s=false \\\n  -consul-domain=consul.local \\\n  -k8s-write-namespace=${NAMESPACE} \\\n  -consul-write-interval=30s\n"],"env":[{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}}],"resources":{"limits":{"cpu":"10m"},"requests":{"cpu":"10m"}},"volumeMounts":[{"name":"consul-sync-catalog-token-tzhzs","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"consul-sync-catalog","serviceAccount":"consul-sync-catalog","nodeName":"172.16.30.195","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:13Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:17Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:14Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.33","startTime":"2019-04-07T23:01:13Z","containerStatuses":[{"name":"consul-sync-catalog","state":{"running":{"startedAt":"2019-04-07T23:01:17Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"hashicorp/consul-k8s:0.3.0","imageID":"docker-pullable://hashicorp/consul-k8s@sha256:291b5f71a8fa98a06c5d29cc301386792e5b7f569b3e3a1372469c4ff098b0f6","containerID":"docker://f485e960030f8146f74f9b5f585a5f524a5f490862790070f4b5a5b31eb3fa73"}],"qosClass":"Burstable"}},{"metadata":{"name":"consul-tkqlq","generateName":"consul-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/consul-tkqlq","uid":"0adf14cb-5989-11e9-bf08-00505683ad44","resourceVersion":"24640","creationTimestamp":"2019-04-07T23:01:13Z","labels":{"app":"consul","app.kubernetes.io/component":"backend","app.kubernetes.io/instance":"consul","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"consul","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"1.3.1","chart":"consul-0.1.4","component":"client","controller-revision-hash":"3043078523","hasDNS":"true","helm.sh/chart":"consul-0.1.4","pod-template-generation":"1","release":"consul"},"annotations":{"cni.projectcalico.org/podIP":"10.42.1.26/32","consul.hashicorp.com/connect-inject":"false"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"consul","uid":"0a8a3d97-5989-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","emptyDir":{}},{"name":"config","configMap":{"name":"consul-client-config","defaultMode":420}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"consul","image":"repo.optanix.io/consul:1.3.1","command":["/bin/sh","-ec","CONSUL_FULLNAME=\"consul\"\n\nexec /bin/consul agent \\\n  -node=\"${NODE}-kube\" \\\n  -advertise=\"${POD_IP}\" \\\n  -bind=0.0.0.0 \\\n  -client=0.0.0.0 \\\n  -config-dir=/consul/config \\\n  -datacenter=optx \\\n  -data-dir=/consul/data \\\n  -retry-join=${CONSUL_FULLNAME}-server-0.${CONSUL_FULLNAME}-server.${NAMESPACE}.svc \\\n  -domain=consul.local\n"],"ports":[{"name":"http","hostPort":8500,"containerPort":8500,"protocol":"TCP"},{"name":"grpc","hostPort":8502,"containerPort":8502,"protocol":"TCP"},{"name":"serflan","containerPort":8301,"protocol":"TCP"},{"name":"serfwan","containerPort":8302,"protocol":"TCP"},{"name":"server","containerPort":8300,"protocol":"TCP"},{"name":"dns-tcp","containerPort":8600,"protocol":"TCP"},{"name":"dns-udp","containerPort":8600,"protocol":"UDP"}],"env":[{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"NODE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}}],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/consul/data"},{"name":"config","mountPath":"/consul/config"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["/bin/sh","-ec","curl http://127.0.0.1:8500/v1/status/leader 2\u003e/dev/null | \\\ngrep -E '\".+\"'\n"]},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"lifecycle":{"preStop":{"exec":{"command":["/bin/sh","-c","consul leave"]}}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":10,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.198","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:13Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:02:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:13Z"}],"hostIP":"172.16.30.198","podIP":"10.42.1.26","startTime":"2019-04-07T23:01:13Z","containerStatuses":[{"name":"consul","state":{"running":{"startedAt":"2019-04-07T23:01:15Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/consul:1.3.1","imageID":"docker-pullable://repo.optanix.io/consul@sha256:a0181db0ded6a9f03a7b1542aa12dd497b659c1163e2de305e46b437db3e0a1f","containerID":"docker://6625652e2f120060edfc12181ef1e53e418748048bb7a846957f5d1afe47eb1c"}],"qosClass":"BestEffort"}},{"metadata":{"name":"csi-attacher-0","generateName":"csi-attacher-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/csi-attacher-0","uid":"d0125612-597f-11e9-bf08-00505683ad44","resourceVersion":"15768","creationTimestamp":"2019-04-07T21:55:09Z","labels":{"app":"csi-attacher","controller-revision-hash":"csi-attacher-5646c4b647","statefulset.kubernetes.io/pod-name":"csi-attacher-0"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.30/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"csi-attacher","uid":"cfd13fa7-597f-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"socket-dir","hostPath":{"path":"/var/lib/kubelet/plugins/io.rancher.longhorn","type":"DirectoryOrCreate"}},{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"containers":[{"name":"csi-attacher","image":"quay.io/k8scsi/csi-attacher:v0.4.0","args":["--v=5","--csi-address=$(ADDRESS)"],"env":[{"name":"ADDRESS","value":"/var/lib/kubelet/plugins/io.rancher.longhorn/csi.sock"}],"resources":{},"volumeMounts":[{"name":"socket-dir","mountPath":"/var/lib/kubelet/plugins/io.rancher.longhorn"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.195","securityContext":{},"hostname":"csi-attacher-0","subdomain":"csi-attacher","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:09Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:11Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:09Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.30","startTime":"2019-04-07T21:55:09Z","containerStatuses":[{"name":"csi-attacher","state":{"running":{"startedAt":"2019-04-07T21:55:10Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"quay.io/k8scsi/csi-attacher:v0.4.0","imageID":"docker-pullable://quay.io/k8scsi/csi-attacher@sha256:9db72912b2cc32ea8c5c24bd7b86e194679fe017f4b27fd4c121f97fd8a673fa","containerID":"docker://33e6079cf25df53fce826d418e6b0d4294c11f0ed9b90209a153e26429ed073a"}],"qosClass":"BestEffort"}},{"metadata":{"name":"csi-provisioner-0","generateName":"csi-provisioner-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/csi-provisioner-0","uid":"d2d2547d-597f-11e9-bf08-00505683ad44","resourceVersion":"15863","creationTimestamp":"2019-04-07T21:55:14Z","labels":{"app":"csi-provisioner","controller-revision-hash":"csi-provisioner-58b7ccb657","statefulset.kubernetes.io/pod-name":"csi-provisioner-0"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.23/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"csi-provisioner","uid":"d28eaa33-597f-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"socket-dir","hostPath":{"path":"/var/lib/kubelet/plugins/io.rancher.longhorn","type":"DirectoryOrCreate"}},{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"containers":[{"name":"csi-provisioner","image":"quay.io/k8scsi/csi-provisioner:v0.3.1","args":["--provisioner=rancher.io/longhorn","--csi-address=$(ADDRESS)","--v=5"],"env":[{"name":"ADDRESS","value":"/var/lib/kubelet/plugins/io.rancher.longhorn/csi.sock"}],"resources":{},"volumeMounts":[{"name":"socket-dir","mountPath":"/var/lib/kubelet/plugins/io.rancher.longhorn"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.192","securityContext":{},"hostname":"csi-provisioner-0","subdomain":"csi-provisioner","schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:14Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:17Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:14Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.23","startTime":"2019-04-07T21:55:14Z","containerStatuses":[{"name":"csi-provisioner","state":{"running":{"startedAt":"2019-04-07T21:55:16Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"quay.io/k8scsi/csi-provisioner:v0.3.1","imageID":"docker-pullable://quay.io/k8scsi/csi-provisioner@sha256:08a02a2e65f8f08cddf64807709537175ce833aade438d93d466f79007fad96e","containerID":"docker://59ec319ccacddd439113f0c56f96eb56f463facbad56e73394819fe40fa13219"}],"qosClass":"BestEffort"}},{"metadata":{"name":"engine-image-ei-ca81f298-92t6q","generateName":"engine-image-ei-ca81f298-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/engine-image-ei-ca81f298-92t6q","uid":"da09f42b-597e-11e9-9170-00505683ad44","resourceVersion":"15421","creationTimestamp":"2019-04-07T21:48:17Z","labels":{"controller-revision-hash":"2568842412","longhorn":"engine-image","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.19/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"engine-image-ei-ca81f298","uid":"d9fd97b0-597e-11e9-9170-00505683ad44","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","hostPath":{"path":"/var/lib/rancher/longhorn/engine-binaries/repo.optanix.io-longhorn-engine-v0.3.3","type":""}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"engine-image-ei-ca81f298","image":"repo.optanix.io/longhorn-engine:v0.3.3","command":["/bin/bash"],"args":["-c","cp /usr/local/bin/longhorn* /data/ \u0026\u0026 echo installed \u0026\u0026 trap 'rm /data/longhorn* \u0026\u0026 echo cleaned up' EXIT \u0026\u0026 sleep infinity"],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/data/"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["ls","/data/longhorn"]},"initialDelaySeconds":5,"timeoutSeconds":1,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:48:17Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:54:43Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:48:17Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.19","startTime":"2019-04-07T21:48:17Z","containerStatuses":[{"name":"engine-image-ei-ca81f298","state":{"running":{"startedAt":"2019-04-07T21:54:35Z"}},"lastState":{"terminated":{"exitCode":137,"reason":"Error","startedAt":"2019-04-07T21:48:55Z","finishedAt":"2019-04-07T21:53:36Z","containerID":"docker://6b224fffbc188743c6ea8cf5ce8af30178a5ec3d8f73b35cc86b1f4544b06269"}},"ready":true,"restartCount":1,"image":"repo.optanix.io/longhorn-engine:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-engine@sha256:813c15c85fc9e61d4225a38f22e0d9d7ae358bfd131e38fdb73b5192ff698526","containerID":"docker://ce9723c80520834facce763255c2c72cf80ac1cc75d178590b2511b6cfff9b07"}],"qosClass":"BestEffort"}},{"metadata":{"name":"engine-image-ei-ca81f298-m5ghk","generateName":"engine-image-ei-ca81f298-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/engine-image-ei-ca81f298-m5ghk","uid":"da0c1c6a-597e-11e9-9170-00505683ad44","resourceVersion":"15571","creationTimestamp":"2019-04-07T21:48:17Z","labels":{"controller-revision-hash":"2568842412","longhorn":"engine-image","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.1.17/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"engine-image-ei-ca81f298","uid":"d9fd97b0-597e-11e9-9170-00505683ad44","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","hostPath":{"path":"/var/lib/rancher/longhorn/engine-binaries/repo.optanix.io-longhorn-engine-v0.3.3","type":""}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"engine-image-ei-ca81f298","image":"repo.optanix.io/longhorn-engine:v0.3.3","command":["/bin/bash"],"args":["-c","cp /usr/local/bin/longhorn* /data/ \u0026\u0026 echo installed \u0026\u0026 trap 'rm /data/longhorn* \u0026\u0026 echo cleaned up' EXIT \u0026\u0026 sleep infinity"],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/data/"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["ls","/data/longhorn"]},"initialDelaySeconds":5,"timeoutSeconds":1,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.198","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:48:17Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:54:50Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:48:17Z"}],"hostIP":"172.16.30.198","podIP":"10.42.1.17","startTime":"2019-04-07T21:48:17Z","containerStatuses":[{"name":"engine-image-ei-ca81f298","state":{"running":{"startedAt":"2019-04-07T21:54:38Z"}},"lastState":{"terminated":{"exitCode":137,"reason":"Error","startedAt":"2019-04-07T21:48:52Z","finishedAt":"2019-04-07T21:53:45Z","containerID":"docker://60ac5082e7c4671acd9d63be7910c06285ddac02e5de3c4063ad55395783cf7a"}},"ready":true,"restartCount":1,"image":"repo.optanix.io/longhorn-engine:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-engine@sha256:813c15c85fc9e61d4225a38f22e0d9d7ae358bfd131e38fdb73b5192ff698526","containerID":"docker://1298d10262d899400fd7d727556a5563ac942b80d6b36034eb6136634697ce5b"}],"qosClass":"BestEffort"}},{"metadata":{"name":"engine-image-ei-ca81f298-rp6j7","generateName":"engine-image-ei-ca81f298-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/engine-image-ei-ca81f298-rp6j7","uid":"da0ccbf6-597e-11e9-9170-00505683ad44","resourceVersion":"15503","creationTimestamp":"2019-04-07T21:48:17Z","labels":{"controller-revision-hash":"2568842412","longhorn":"engine-image","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.26/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"engine-image-ei-ca81f298","uid":"d9fd97b0-597e-11e9-9170-00505683ad44","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","hostPath":{"path":"/var/lib/rancher/longhorn/engine-binaries/repo.optanix.io-longhorn-engine-v0.3.3","type":""}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"engine-image-ei-ca81f298","image":"repo.optanix.io/longhorn-engine:v0.3.3","command":["/bin/bash"],"args":["-c","cp /usr/local/bin/longhorn* /data/ \u0026\u0026 echo installed \u0026\u0026 trap 'rm /data/longhorn* \u0026\u0026 echo cleaned up' EXIT \u0026\u0026 sleep infinity"],"resources":{},"volumeMounts":[{"name":"data","mountPath":"/data/"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["ls","/data/longhorn"]},"initialDelaySeconds":5,"timeoutSeconds":1,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.195","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:48:16Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:54:43Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:48:16Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.26","startTime":"2019-04-07T21:48:16Z","containerStatuses":[{"name":"engine-image-ei-ca81f298","state":{"running":{"startedAt":"2019-04-07T21:54:34Z"}},"lastState":{"terminated":{"exitCode":137,"reason":"Error","startedAt":"2019-04-07T21:49:35Z","finishedAt":"2019-04-07T21:53:40Z","containerID":"docker://69c44695d1f93e7f8677a0a14c511f48c82d3c9055d49d2bd0b9e22ddd5a6712"}},"ready":true,"restartCount":1,"image":"repo.optanix.io/longhorn-engine:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-engine@sha256:813c15c85fc9e61d4225a38f22e0d9d7ae358bfd131e38fdb73b5192ff698526","containerID":"docker://f260255d009d8427288a725c981f10532f9cec5e28e6351b46c60f319cfe8449"}],"qosClass":"BestEffort"}},{"metadata":{"name":"longhorn-csi-plugin-2slst","generateName":"longhorn-csi-plugin-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/longhorn-csi-plugin-2slst","uid":"d2d2e9a3-597f-11e9-bf08-00505683ad44","resourceVersion":"15856","creationTimestamp":"2019-04-07T21:55:14Z","labels":{"app":"longhorn-csi-plugin","controller-revision-hash":"2326515565","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.1.25/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"longhorn-csi-plugin","uid":"d29255e3-597f-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"plugin-dir","hostPath":{"path":"/var/lib/kubelet/plugins/io.rancher.longhorn","type":"DirectoryOrCreate"}},{"name":"pods-mount-dir","hostPath":{"path":"/var/lib/kubelet/pods","type":"DirectoryOrCreate"}},{"name":"socket-dir","hostPath":{"path":"/var/lib/kubelet/plugins/io.rancher.longhorn","type":"DirectoryOrCreate"}},{"name":"host-dev","hostPath":{"path":"/dev","type":""}},{"name":"host-sys","hostPath":{"path":"/sys","type":""}},{"name":"lib-modules","hostPath":{"path":"/lib-modules","type":""}},{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"containers":[{"name":"driver-registrar","image":"quay.io/k8scsi/driver-registrar:v0.4.1","args":["--v=5","--csi-address=$(ADDRESS)"],"env":[{"name":"ADDRESS","value":"/var/lib/kubelet/plugins/io.rancher.longhorn/csi.sock"},{"name":"KUBE_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}}],"resources":{},"volumeMounts":[{"name":"socket-dir","mountPath":"/var/lib/kubelet/plugins/io.rancher.longhorn"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"longhorn-csi-plugin","image":"repo.optanix.io/longhorn-manager:v0.3.3","args":["longhorn-manager","-d","csi","--nodeid=$(NODE_ID)","--endpoint=$(CSI_ENDPOINT)","--drivername=io.rancher.longhorn","--manager-url=http://longhorn-backend:9500/v1"],"env":[{"name":"NODE_ID","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"CSI_ENDPOINT","value":"unix://var/lib/kubelet/plugins/io.rancher.longhorn/csi.sock"}],"resources":{},"volumeMounts":[{"name":"plugin-dir","mountPath":"/var/lib/kubelet/plugins/io.rancher.longhorn"},{"name":"pods-mount-dir","mountPath":"/var/lib/kubelet/pods","mountPropagation":"Bidirectional"},{"name":"host-dev","mountPath":"/dev"},{"name":"host-sys","mountPath":"/sys"},{"name":"lib-modules","readOnly":true,"mountPath":"/lib/modules"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["SYS_ADMIN"]},"privileged":true,"allowPrivilegeEscalation":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.198","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:14Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:14Z"}],"hostIP":"172.16.30.198","podIP":"10.42.1.25","startTime":"2019-04-07T21:55:14Z","containerStatuses":[{"name":"driver-registrar","state":{"running":{"startedAt":"2019-04-07T21:55:15Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"quay.io/k8scsi/driver-registrar:v0.4.1","imageID":"docker-pullable://quay.io/k8scsi/driver-registrar@sha256:b7c6cdbd3ad9e585f79365a5b9f5a83551629c2a3235ed0825d7629371963c10","containerID":"docker://06e24fdcb8986f3aa534784691522a32e7cf4181def6290ac5ca99736896bd6f"},{"name":"longhorn-csi-plugin","state":{"running":{"startedAt":"2019-04-07T21:55:15Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/longhorn-manager:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-manager@sha256:aa4b24ba4eabf56c3f7eb4c09971b18941cdd87c569338527ac007dc76cdb4fe","containerID":"docker://f66734d84dde1c0d2ab188fcb6563b38a6d04ba287a46f021dd1e6e562d3a53d"}],"qosClass":"BestEffort"}},{"metadata":{"name":"longhorn-csi-plugin-l6gzw","generateName":"longhorn-csi-plugin-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/longhorn-csi-plugin-l6gzw","uid":"d2d60622-597f-11e9-bf08-00505683ad44","resourceVersion":"15860","creationTimestamp":"2019-04-07T21:55:14Z","labels":{"app":"longhorn-csi-plugin","controller-revision-hash":"2326515565","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.31/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"longhorn-csi-plugin","uid":"d29255e3-597f-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"plugin-dir","hostPath":{"path":"/var/lib/kubelet/plugins/io.rancher.longhorn","type":"DirectoryOrCreate"}},{"name":"pods-mount-dir","hostPath":{"path":"/var/lib/kubelet/pods","type":"DirectoryOrCreate"}},{"name":"socket-dir","hostPath":{"path":"/var/lib/kubelet/plugins/io.rancher.longhorn","type":"DirectoryOrCreate"}},{"name":"host-dev","hostPath":{"path":"/dev","type":""}},{"name":"host-sys","hostPath":{"path":"/sys","type":""}},{"name":"lib-modules","hostPath":{"path":"/lib-modules","type":""}},{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"containers":[{"name":"driver-registrar","image":"quay.io/k8scsi/driver-registrar:v0.4.1","args":["--v=5","--csi-address=$(ADDRESS)"],"env":[{"name":"ADDRESS","value":"/var/lib/kubelet/plugins/io.rancher.longhorn/csi.sock"},{"name":"KUBE_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}}],"resources":{},"volumeMounts":[{"name":"socket-dir","mountPath":"/var/lib/kubelet/plugins/io.rancher.longhorn"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"longhorn-csi-plugin","image":"repo.optanix.io/longhorn-manager:v0.3.3","args":["longhorn-manager","-d","csi","--nodeid=$(NODE_ID)","--endpoint=$(CSI_ENDPOINT)","--drivername=io.rancher.longhorn","--manager-url=http://longhorn-backend:9500/v1"],"env":[{"name":"NODE_ID","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"CSI_ENDPOINT","value":"unix://var/lib/kubelet/plugins/io.rancher.longhorn/csi.sock"}],"resources":{},"volumeMounts":[{"name":"plugin-dir","mountPath":"/var/lib/kubelet/plugins/io.rancher.longhorn"},{"name":"pods-mount-dir","mountPath":"/var/lib/kubelet/pods","mountPropagation":"Bidirectional"},{"name":"host-dev","mountPath":"/dev"},{"name":"host-sys","mountPath":"/sys"},{"name":"lib-modules","readOnly":true,"mountPath":"/lib/modules"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["SYS_ADMIN"]},"privileged":true,"allowPrivilegeEscalation":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.195","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:13Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:13Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.31","startTime":"2019-04-07T21:55:13Z","containerStatuses":[{"name":"driver-registrar","state":{"running":{"startedAt":"2019-04-07T21:55:15Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"quay.io/k8scsi/driver-registrar:v0.4.1","imageID":"docker-pullable://quay.io/k8scsi/driver-registrar@sha256:b7c6cdbd3ad9e585f79365a5b9f5a83551629c2a3235ed0825d7629371963c10","containerID":"docker://3c01c746e9e1d61b619c920f5bc811010c29a38b637961090040ef028862a05e"},{"name":"longhorn-csi-plugin","state":{"running":{"startedAt":"2019-04-07T21:55:16Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/longhorn-manager:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-manager@sha256:aa4b24ba4eabf56c3f7eb4c09971b18941cdd87c569338527ac007dc76cdb4fe","containerID":"docker://c8d50197e5fbef2aada2704b48e87f472dee22dd65e4253e7a522239b4974f6f"}],"qosClass":"BestEffort"}},{"metadata":{"name":"longhorn-csi-plugin-z6xlp","generateName":"longhorn-csi-plugin-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/longhorn-csi-plugin-z6xlp","uid":"d2d6ebf4-597f-11e9-bf08-00505683ad44","resourceVersion":"15876","creationTimestamp":"2019-04-07T21:55:14Z","labels":{"app":"longhorn-csi-plugin","controller-revision-hash":"2326515565","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.24/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"longhorn-csi-plugin","uid":"d29255e3-597f-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"plugin-dir","hostPath":{"path":"/var/lib/kubelet/plugins/io.rancher.longhorn","type":"DirectoryOrCreate"}},{"name":"pods-mount-dir","hostPath":{"path":"/var/lib/kubelet/pods","type":"DirectoryOrCreate"}},{"name":"socket-dir","hostPath":{"path":"/var/lib/kubelet/plugins/io.rancher.longhorn","type":"DirectoryOrCreate"}},{"name":"host-dev","hostPath":{"path":"/dev","type":""}},{"name":"host-sys","hostPath":{"path":"/sys","type":""}},{"name":"lib-modules","hostPath":{"path":"/lib-modules","type":""}},{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"containers":[{"name":"driver-registrar","image":"quay.io/k8scsi/driver-registrar:v0.4.1","args":["--v=5","--csi-address=$(ADDRESS)"],"env":[{"name":"ADDRESS","value":"/var/lib/kubelet/plugins/io.rancher.longhorn/csi.sock"},{"name":"KUBE_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}}],"resources":{},"volumeMounts":[{"name":"socket-dir","mountPath":"/var/lib/kubelet/plugins/io.rancher.longhorn"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"longhorn-csi-plugin","image":"repo.optanix.io/longhorn-manager:v0.3.3","args":["longhorn-manager","-d","csi","--nodeid=$(NODE_ID)","--endpoint=$(CSI_ENDPOINT)","--drivername=io.rancher.longhorn","--manager-url=http://longhorn-backend:9500/v1"],"env":[{"name":"NODE_ID","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"CSI_ENDPOINT","value":"unix://var/lib/kubelet/plugins/io.rancher.longhorn/csi.sock"}],"resources":{},"volumeMounts":[{"name":"plugin-dir","mountPath":"/var/lib/kubelet/plugins/io.rancher.longhorn"},{"name":"pods-mount-dir","mountPath":"/var/lib/kubelet/pods","mountPropagation":"Bidirectional"},{"name":"host-dev","mountPath":"/dev"},{"name":"host-sys","mountPath":"/sys"},{"name":"lib-modules","readOnly":true,"mountPath":"/lib/modules"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["SYS_ADMIN"]},"privileged":true,"allowPrivilegeEscalation":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:14Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:14Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.24","startTime":"2019-04-07T21:55:14Z","containerStatuses":[{"name":"driver-registrar","state":{"running":{"startedAt":"2019-04-07T21:55:17Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"quay.io/k8scsi/driver-registrar:v0.4.1","imageID":"docker-pullable://quay.io/k8scsi/driver-registrar@sha256:b7c6cdbd3ad9e585f79365a5b9f5a83551629c2a3235ed0825d7629371963c10","containerID":"docker://36279ea3afb9dd76959d5540ead4d24590fcbd801eb11f0c1873f32cbe764f56"},{"name":"longhorn-csi-plugin","state":{"running":{"startedAt":"2019-04-07T21:55:17Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/longhorn-manager:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-manager@sha256:aa4b24ba4eabf56c3f7eb4c09971b18941cdd87c569338527ac007dc76cdb4fe","containerID":"docker://4f649789e335a1691c41de6a596e8061222298ee7a4d3e2e1c3a8898f44f7f11"}],"qosClass":"BestEffort"}},{"metadata":{"name":"longhorn-driver-deployer-6d6d79db46-hm5sp","generateName":"longhorn-driver-deployer-6d6d79db46-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/longhorn-driver-deployer-6d6d79db46-hm5sp","uid":"bc94ca96-597e-11e9-9170-00505683ad44","resourceVersion":"15673","creationTimestamp":"2019-04-07T21:47:27Z","labels":{"app":"longhorn-driver-deployer","pod-template-hash":"2828358602"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.15/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"longhorn-driver-deployer-6d6d79db46","uid":"bc900442-597e-11e9-9170-00505683ad44","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"initContainers":[{"name":"wait-longhorn-manager","image":"repo.optanix.io/longhorn-manager:v0.3.3","command":["sh","-c","while [ $(curl -m 1 -s -o /dev/null -w \"%{http_code}\" http://longhorn-backend:9500/v1) != \"200\" ]; do echo waiting; sleep 2; done"],"resources":{},"volumeMounts":[{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"longhorn-driver-deployer","image":"repo.optanix.io/longhorn-manager:v0.3.3","command":["longhorn-manager","-d","deploy-driver","--manager-image","repo.optanix.io/longhorn-manager:v0.3.3","--manager-url","http://longhorn-backend:9500/v1","--driver","csi"],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"FLEXVOLUME_DIR"}],"resources":{},"volumeMounts":[{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:01Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:04Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.15","startTime":"2019-04-07T21:47:27Z","initContainerStatuses":[{"name":"wait-longhorn-manager","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-07T21:54:32Z","finishedAt":"2019-04-07T21:55:00Z","containerID":"docker://e5e38aff8d1c9c0ca901a6dc5107612688aea8bee2f7a56a6b138d3c064c3b59"}},"lastState":{},"ready":true,"restartCount":1,"image":"repo.optanix.io/longhorn-manager:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-manager@sha256:aa4b24ba4eabf56c3f7eb4c09971b18941cdd87c569338527ac007dc76cdb4fe","containerID":"docker://e5e38aff8d1c9c0ca901a6dc5107612688aea8bee2f7a56a6b138d3c064c3b59"}],"containerStatuses":[{"name":"longhorn-driver-deployer","state":{"running":{"startedAt":"2019-04-07T21:55:03Z"}},"lastState":{"terminated":{"exitCode":137,"reason":"Error","startedAt":"2019-04-07T21:49:48Z","finishedAt":"2019-04-07T21:53:36Z","containerID":"docker://df6bd0b7fecbcf278d776c632490fc56e8d2ad79222a9e1daa84a3966785312a"}},"ready":true,"restartCount":1,"image":"repo.optanix.io/longhorn-manager:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-manager@sha256:aa4b24ba4eabf56c3f7eb4c09971b18941cdd87c569338527ac007dc76cdb4fe","containerID":"docker://f561ba488ba26d218bc8f8ad1acba62cb51f6d9f7506492ed233138189d66942"}],"qosClass":"BestEffort"}},{"metadata":{"name":"longhorn-manager-gw94h","generateName":"longhorn-manager-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/longhorn-manager-gw94h","uid":"bc92b36a-597e-11e9-9170-00505683ad44","resourceVersion":"15257","creationTimestamp":"2019-04-07T21:47:27Z","labels":{"app":"longhorn-manager","controller-revision-hash":"2048523838","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.14/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"longhorn-manager","uid":"bc58ffc6-597e-11e9-8887-005056833dd1","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"dev","hostPath":{"path":"/dev/","type":""}},{"name":"proc","hostPath":{"path":"/proc/","type":""}},{"name":"varrun","hostPath":{"path":"/var/run/","type":""}},{"name":"longhorn","hostPath":{"path":"/var/lib/rancher/longhorn/","type":""}},{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"containers":[{"name":"longhorn-manager","image":"repo.optanix.io/longhorn-manager:v0.3.3","command":["longhorn-manager","-d","daemon","--engine-image","repo.optanix.io/longhorn-engine:v0.3.3","--manager-image","repo.optanix.io/longhorn-manager:v0.3.3","--service-account","longhorn-service-account"],"ports":[{"name":"manager","containerPort":9500,"protocol":"TCP"}],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"LONGHORN_BACKEND_SVC","value":"longhorn-backend"}],"resources":{},"volumeMounts":[{"name":"dev","mountPath":"/host/dev/"},{"name":"proc","mountPath":"/host/proc/"},{"name":"varrun","mountPath":"/var/run/"},{"name":"longhorn","mountPath":"/var/lib/rancher/longhorn/","mountPropagation":"Bidirectional"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:54:34Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.14","startTime":"2019-04-07T21:47:27Z","containerStatuses":[{"name":"longhorn-manager","state":{"running":{"startedAt":"2019-04-07T21:54:32Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-07T21:48:15Z","finishedAt":"2019-04-07T21:53:28Z","containerID":"docker://495a4a85af047d189c21f870e59f2f3d6e54ac918ad3821b50c8496abe130e2b"}},"ready":true,"restartCount":1,"image":"repo.optanix.io/longhorn-manager:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-manager@sha256:aa4b24ba4eabf56c3f7eb4c09971b18941cdd87c569338527ac007dc76cdb4fe","containerID":"docker://74ff07f6ef03ff6bed6a691ad6e95c03887a575985f3e17c7f641a3158369e2a"}],"qosClass":"BestEffort"}},{"metadata":{"name":"longhorn-manager-mv985","generateName":"longhorn-manager-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/longhorn-manager-mv985","uid":"bc8fde59-597e-11e9-9170-00505683ad44","resourceVersion":"15367","creationTimestamp":"2019-04-07T21:47:27Z","labels":{"app":"longhorn-manager","controller-revision-hash":"2048523838","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.23/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"longhorn-manager","uid":"bc58ffc6-597e-11e9-8887-005056833dd1","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"dev","hostPath":{"path":"/dev/","type":""}},{"name":"proc","hostPath":{"path":"/proc/","type":""}},{"name":"varrun","hostPath":{"path":"/var/run/","type":""}},{"name":"longhorn","hostPath":{"path":"/var/lib/rancher/longhorn/","type":""}},{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"containers":[{"name":"longhorn-manager","image":"repo.optanix.io/longhorn-manager:v0.3.3","command":["longhorn-manager","-d","daemon","--engine-image","repo.optanix.io/longhorn-engine:v0.3.3","--manager-image","repo.optanix.io/longhorn-manager:v0.3.3","--service-account","longhorn-service-account"],"ports":[{"name":"manager","containerPort":9500,"protocol":"TCP"}],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"LONGHORN_BACKEND_SVC","value":"longhorn-backend"}],"resources":{},"volumeMounts":[{"name":"dev","mountPath":"/host/dev/"},{"name":"proc","mountPath":"/host/proc/"},{"name":"varrun","mountPath":"/var/run/"},{"name":"longhorn","mountPath":"/var/lib/rancher/longhorn/","mountPropagation":"Bidirectional"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.195","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:54:40Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.23","startTime":"2019-04-07T21:47:27Z","containerStatuses":[{"name":"longhorn-manager","state":{"running":{"startedAt":"2019-04-07T21:54:32Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-07T21:48:16Z","finishedAt":"2019-04-07T21:53:31Z","containerID":"docker://da7e965e01676154b7ef79078dd9af48e9eccdb97a198e5d345a5c696334d544"}},"ready":true,"restartCount":1,"image":"repo.optanix.io/longhorn-manager:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-manager@sha256:aa4b24ba4eabf56c3f7eb4c09971b18941cdd87c569338527ac007dc76cdb4fe","containerID":"docker://180a253990daa354917bdfbbe7ca917682ecac7a2bcd8221789d3f92b12d8860"}],"qosClass":"BestEffort"}},{"metadata":{"name":"longhorn-manager-qkgb5","generateName":"longhorn-manager-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/longhorn-manager-qkgb5","uid":"bc96635a-597e-11e9-9170-00505683ad44","resourceVersion":"15460","creationTimestamp":"2019-04-07T21:47:27Z","labels":{"app":"longhorn-manager","controller-revision-hash":"2048523838","pod-template-generation":"1"},"annotations":{"cni.projectcalico.org/podIP":"10.42.1.20/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"longhorn-manager","uid":"bc58ffc6-597e-11e9-8887-005056833dd1","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"dev","hostPath":{"path":"/dev/","type":""}},{"name":"proc","hostPath":{"path":"/proc/","type":""}},{"name":"varrun","hostPath":{"path":"/var/run/","type":""}},{"name":"longhorn","hostPath":{"path":"/var/lib/rancher/longhorn/","type":""}},{"name":"longhorn-service-account-token-dcwhb","secret":{"secretName":"longhorn-service-account-token-dcwhb","defaultMode":420}}],"containers":[{"name":"longhorn-manager","image":"repo.optanix.io/longhorn-manager:v0.3.3","command":["longhorn-manager","-d","daemon","--engine-image","repo.optanix.io/longhorn-engine:v0.3.3","--manager-image","repo.optanix.io/longhorn-manager:v0.3.3","--service-account","longhorn-service-account"],"ports":[{"name":"manager","containerPort":9500,"protocol":"TCP"}],"env":[{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"POD_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"LONGHORN_BACKEND_SVC","value":"longhorn-backend"}],"resources":{},"volumeMounts":[{"name":"dev","mountPath":"/host/dev/"},{"name":"proc","mountPath":"/host/proc/"},{"name":"varrun","mountPath":"/var/run/"},{"name":"longhorn","mountPath":"/var/lib/rancher/longhorn/","mountPropagation":"Bidirectional"},{"name":"longhorn-service-account-token-dcwhb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"privileged":true}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"longhorn-service-account","serviceAccount":"longhorn-service-account","nodeName":"172.16.30.198","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:54:45Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"}],"hostIP":"172.16.30.198","podIP":"10.42.1.20","startTime":"2019-04-07T21:47:27Z","containerStatuses":[{"name":"longhorn-manager","state":{"running":{"startedAt":"2019-04-07T21:54:39Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-07T21:48:18Z","finishedAt":"2019-04-07T21:53:36Z","containerID":"docker://68f4b0949bae0f0b12b53bfd2b5112270024428acc4e2e34d72c5c7de9a7a65e"}},"ready":true,"restartCount":2,"image":"repo.optanix.io/longhorn-manager:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-manager@sha256:aa4b24ba4eabf56c3f7eb4c09971b18941cdd87c569338527ac007dc76cdb4fe","containerID":"docker://16bb8bb492c1db06afa258ab251e5909e28f6a12898b506341824dc1e1d9e667"}],"qosClass":"BestEffort"}},{"metadata":{"name":"longhorn-ui-649f96d57b-xm7wb","generateName":"longhorn-ui-649f96d57b-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/longhorn-ui-649f96d57b-xm7wb","uid":"bca015d6-597e-11e9-9170-00505683ad44","resourceVersion":"15637","creationTimestamp":"2019-04-07T21:47:27Z","labels":{"app":"longhorn-ui","pod-template-hash":"2059528136"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.21/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"longhorn-ui-649f96d57b","uid":"bc904acd-597e-11e9-9170-00505683ad44","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"longhorn-ui","image":"repo.optanix.io/longhorn-ui:v0.3.3","ports":[{"name":"http","containerPort":8000,"protocol":"TCP"}],"env":[{"name":"LONGHORN_MANAGER_IP","value":"http://longhorn-backend:9500"}],"resources":{},"volumeMounts":[{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.195","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:55:00Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T21:47:27Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.21","startTime":"2019-04-07T21:47:27Z","containerStatuses":[{"name":"longhorn-ui","state":{"running":{"startedAt":"2019-04-07T21:55:00Z"}},"lastState":{"terminated":{"exitCode":1,"reason":"Error","startedAt":"2019-04-07T21:54:27Z","finishedAt":"2019-04-07T21:54:48Z","containerID":"docker://10e38a7d876f34487c273c549011724369975944b0bb0e39767a83403d912b49"}},"ready":true,"restartCount":2,"image":"repo.optanix.io/longhorn-ui:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-ui@sha256:6b23a96ccc48d450b9eee6335e764397ffe28d5fe4324945506e0219b915908f","containerID":"docker://2f1f0d3fe5f8b00d47f852ee6cb9db518abc866da5cdbf217827fe9b1186da64"}],"qosClass":"BestEffort"}},{"metadata":{"name":"mysqlha-9497j","generateName":"mysqlha-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/mysqlha-9497j","uid":"01e6fd95-5bb5-11e9-bf08-00505683ad44","resourceVersion":"484655","creationTimestamp":"2019-04-10T17:20:59Z","labels":{"app":"mysqlha","app.kubernetes.io/component":"database","app.kubernetes.io/instance":"mysqlha","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"mysqlha","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"5.7.25","chart":"mysqlha-0.1.0","component":"server","controller-revision-hash":"3205749636","helm.sh/chart":"mysqlha-0.1.0","heritage":"Tiller","pod-template-generation":"1","release":"mysqlha"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.55/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"mysqlha","uid":"018f22fe-5bb5-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","hostPath":{"path":"/var/lib/mysql","type":""}},{"name":"conf","hostPath":{"path":"/etc/mysql/conf.d","type":""}},{"name":"config-map","configMap":{"name":"mysqlha","defaultMode":420}},{"name":"scripts","configMap":{"name":"mysqlha-scripts","defaultMode":420}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"initContainers":[{"name":"consul-registry","image":"consul:1.3.1","command":["/bin/sh"],"args":["-c","source /mnt/scripts/mysqlha_lib.sh;\n\ncheck_if_slave\n\n# If host is a slave and the master is dead, will register as new master\nif [ ${i_am_the_highlander} == 0 ] \u0026\u0026 [ ${master_alive} == 0 ]; then\n  echo \"I am a slave AND master is dead\"\n  echo \"Long live the new master: ${HOSTNAME}\"\n  register_as_master\nfi\n"],"env":[{"name":"CONSUL_DC","value":"optx"},{"name":"CONSUL_HTTP_ADDR","value":"consul-server.default.svc.cluster.local:8500"},{"name":"CONSUL_HTTP_SSL_VERIFY","value":"false"}],"resources":{},"volumeMounts":[{"name":"conf","mountPath":"/mnt/conf.d"},{"name":"config-map","mountPath":"/mnt/config-map"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"init-mysql","image":"consul:1.3.1","command":["/bin/sh"],"args":["-c","set -ex\n# Copy all cnf files\ncp -f /mnt/config-map/* /mnt/conf.d/\n\n# Copy server-id.conf adding offset to avoid reserved server-id=0 value.\ncat /mnt/config-map/server-id.cnf | sed s/@@SERVER_ID@@/1/g \u003e /mnt/conf.d/server-id.cnf\n\n# TODO: Determine master/slave. Will remove slave for now\nrm /mnt/conf.d/slave.cnf\n\n# # Copy appropriate conf.d files from config-map to config mount.\n# if [[ $ordinal -eq 0 ]]; then\n#   cp -f /mnt/config-map/master.cnf /mnt/conf.d/\n# else\n#   cp -f /mnt/config-map/slave.cnf /mnt/conf.d/\n# fi\n#\n# # Copy replication user script\n# if [[ $ordinal -eq 0 ]]; then\n#   cp -f /mnt/config-map/create-replication-user.sh /mnt/scripts/create-replication-user.sh\n#   chmod 700 /mnt/scripts/create-replication-user.sh\n# fi\n\n# Set user to 999 (percona mysql user)\nchown -R 999:999 /mnt/conf.d /mnt/data\n"],"resources":{},"volumeMounts":[{"name":"conf","mountPath":"/mnt/conf.d"},{"name":"config-map","mountPath":"/mnt/config-map"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"data","mountPath":"/mnt/data"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"mysql","image":"percona:5.7.25","ports":[{"name":"mysql","containerPort":3306,"protocol":"TCP"}],"env":[{"name":"MYSQL_DATABASE"},{"name":"MYSQL_ROOT_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-root-password"}}},{"name":"MYSQL_REPLICATION_USER","value":"repl"},{"name":"MYSQL_REPLICATION_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-replication-password"}}},{"name":"MYSQL_USER","value":"optanix"},{"name":"MYSQL_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-password"}}}],"resources":{"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"data","mountPath":"/var/lib/mysql"},{"name":"conf","mountPath":"/etc/my.cnf.d"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/sh","-c","mysqladmin ping -h 127.0.0.1 -u root -p\"${MYSQL_ROOT_PASSWORD}\""]},"initialDelaySeconds":30,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/sh","-c","mysql -h 127.0.0.1 -u root -p\"${MYSQL_ROOT_PASSWORD}\" -e \"SELECT 1\""]},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.195","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-10T17:21:07Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-10T17:21:29Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-10T17:20:58Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.55","startTime":"2019-04-10T17:20:58Z","initContainerStatuses":[{"name":"consul-registry","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-10T17:20:59Z","finishedAt":"2019-04-10T17:21:05Z","containerID":"docker://3fa4fa6381805b15de995047961d8b052734990fa957de4a14a18f3c3f40b873"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://3fa4fa6381805b15de995047961d8b052734990fa957de4a14a18f3c3f40b873"},{"name":"init-mysql","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-10T17:21:07Z","finishedAt":"2019-04-10T17:21:07Z","containerID":"docker://4bb813b00d021c729a75a0ba324ad86d51f6514c0d9bb0413abda8873e89056c"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://4bb813b00d021c729a75a0ba324ad86d51f6514c0d9bb0413abda8873e89056c"}],"containerStatuses":[{"name":"mysql","state":{"running":{"startedAt":"2019-04-10T17:21:08Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"percona:5.7.25","imageID":"docker-pullable://percona@sha256:3a5b2e2f52b444ac4449e469b957348a8953b5b372bd15e1c740eb5e8c01177b","containerID":"docker://96e61bfd9d20b6157c37d66cc2ac44059cedecdaaf8046103537b16be1436a30"}],"qosClass":"Burstable"}},{"metadata":{"name":"mysqlha-helper-55f7c4dc96-8rcjd","generateName":"mysqlha-helper-55f7c4dc96-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/mysqlha-helper-55f7c4dc96-8rcjd","uid":"020849da-5bb5-11e9-bf08-00505683ad44","resourceVersion":"484499","creationTimestamp":"2019-04-10T17:20:59Z","labels":{"app":"mysqlha","app.kubernetes.io/component":"database","app.kubernetes.io/instance":"mysqlha","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"mysqlha","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"5.7.25","chart":"mysqlha-0.1.0","component":"helper","helm.sh/chart":"mysqlha-0.1.0","heritage":"Tiller","pod-template-hash":"1193708752","release":"mysqlha"},"annotations":{"cni.projectcalico.org/podIP":"10.42.1.47/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"mysqlha-helper-55f7c4dc96","uid":"01e03c57-5bb5-11e9-bf08-00505683ad44","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"mysqlha-helper-token-2wgms","secret":{"secretName":"mysqlha-helper-token-2wgms","defaultMode":420}}],"containers":[{"name":"mysqlha-helper","image":"consul:1.3.1","env":[{"name":"CONSUL_DC","value":"optx"},{"name":"CONSUL_HTTP_ADDR","value":"consul-server.default.svc.cluster.local:8500"},{"name":"CONSUL_HTTP_SSL_VERIFY","value":"false"},{"name":"POD_HELM_APP","value":"mysqlha"},{"name":"POD_HELM_CHART","value":"mysqlha-0.1.0"},{"name":"POD_HELM_RELEASE","value":"mysqlha"},{"name":"POD_HELM_HERITAGE","value":"Tiller"}],"resources":{},"volumeMounts":[{"name":"mysqlha-helper-token-2wgms","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"mysqlha-helper","serviceAccount":"mysqlha-helper","nodeName":"172.16.30.198","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-10T17:20:59Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-10T17:21:00Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-10T17:20:59Z"}],"hostIP":"172.16.30.198","podIP":"10.42.1.47","startTime":"2019-04-10T17:20:59Z","containerStatuses":[{"name":"mysqlha-helper","state":{"running":{"startedAt":"2019-04-10T17:21:00Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://b78b6ded74e30c2b6d5f577bc347db69c72eb5ef5d93a2642c65bb71c507c910"}],"qosClass":"BestEffort"}},{"metadata":{"name":"mysqlha-tmn6x","generateName":"mysqlha-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/mysqlha-tmn6x","uid":"01e08e6a-5bb5-11e9-bf08-00505683ad44","resourceVersion":"484650","creationTimestamp":"2019-04-10T17:20:59Z","labels":{"app":"mysqlha","app.kubernetes.io/component":"database","app.kubernetes.io/instance":"mysqlha","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"mysqlha","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"5.7.25","chart":"mysqlha-0.1.0","component":"server","controller-revision-hash":"3205749636","helm.sh/chart":"mysqlha-0.1.0","heritage":"Tiller","pod-template-generation":"1","release":"mysqlha"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.48/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"mysqlha","uid":"018f22fe-5bb5-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","hostPath":{"path":"/var/lib/mysql","type":""}},{"name":"conf","hostPath":{"path":"/etc/mysql/conf.d","type":""}},{"name":"config-map","configMap":{"name":"mysqlha","defaultMode":420}},{"name":"scripts","configMap":{"name":"mysqlha-scripts","defaultMode":420}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"initContainers":[{"name":"consul-registry","image":"consul:1.3.1","command":["/bin/sh"],"args":["-c","source /mnt/scripts/mysqlha_lib.sh;\n\ncheck_if_slave\n\n# If host is a slave and the master is dead, will register as new master\nif [ ${i_am_the_highlander} == 0 ] \u0026\u0026 [ ${master_alive} == 0 ]; then\n  echo \"I am a slave AND master is dead\"\n  echo \"Long live the new master: ${HOSTNAME}\"\n  register_as_master\nfi\n"],"env":[{"name":"CONSUL_DC","value":"optx"},{"name":"CONSUL_HTTP_ADDR","value":"consul-server.default.svc.cluster.local:8500"},{"name":"CONSUL_HTTP_SSL_VERIFY","value":"false"}],"resources":{},"volumeMounts":[{"name":"conf","mountPath":"/mnt/conf.d"},{"name":"config-map","mountPath":"/mnt/config-map"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"init-mysql","image":"consul:1.3.1","command":["/bin/sh"],"args":["-c","set -ex\n# Copy all cnf files\ncp -f /mnt/config-map/* /mnt/conf.d/\n\n# Copy server-id.conf adding offset to avoid reserved server-id=0 value.\ncat /mnt/config-map/server-id.cnf | sed s/@@SERVER_ID@@/1/g \u003e /mnt/conf.d/server-id.cnf\n\n# TODO: Determine master/slave. Will remove slave for now\nrm /mnt/conf.d/slave.cnf\n\n# # Copy appropriate conf.d files from config-map to config mount.\n# if [[ $ordinal -eq 0 ]]; then\n#   cp -f /mnt/config-map/master.cnf /mnt/conf.d/\n# else\n#   cp -f /mnt/config-map/slave.cnf /mnt/conf.d/\n# fi\n#\n# # Copy replication user script\n# if [[ $ordinal -eq 0 ]]; then\n#   cp -f /mnt/config-map/create-replication-user.sh /mnt/scripts/create-replication-user.sh\n#   chmod 700 /mnt/scripts/create-replication-user.sh\n# fi\n\n# Set user to 999 (percona mysql user)\nchown -R 999:999 /mnt/conf.d /mnt/data\n"],"resources":{},"volumeMounts":[{"name":"conf","mountPath":"/mnt/conf.d"},{"name":"config-map","mountPath":"/mnt/config-map"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"data","mountPath":"/mnt/data"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"mysql","image":"percona:5.7.25","ports":[{"name":"mysql","containerPort":3306,"protocol":"TCP"}],"env":[{"name":"MYSQL_DATABASE"},{"name":"MYSQL_ROOT_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-root-password"}}},{"name":"MYSQL_REPLICATION_USER","value":"repl"},{"name":"MYSQL_REPLICATION_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-replication-password"}}},{"name":"MYSQL_USER","value":"optanix"},{"name":"MYSQL_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-password"}}}],"resources":{"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"data","mountPath":"/var/lib/mysql"},{"name":"conf","mountPath":"/etc/my.cnf.d"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/sh","-c","mysqladmin ping -h 127.0.0.1 -u root -p\"${MYSQL_ROOT_PASSWORD}\""]},"initialDelaySeconds":30,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/sh","-c","mysql -h 127.0.0.1 -u root -p\"${MYSQL_ROOT_PASSWORD}\" -e \"SELECT 1\""]},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-10T17:21:08Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-10T17:21:28Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-10T17:20:59Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.48","startTime":"2019-04-10T17:20:59Z","initContainerStatuses":[{"name":"consul-registry","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-10T17:21:00Z","finishedAt":"2019-04-10T17:21:06Z","containerID":"docker://22ead4a4f01c49638083ee7a95e07b3494e4f42c21c8f71ca0c30ffae703536d"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://22ead4a4f01c49638083ee7a95e07b3494e4f42c21c8f71ca0c30ffae703536d"},{"name":"init-mysql","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-10T17:21:08Z","finishedAt":"2019-04-10T17:21:08Z","containerID":"docker://a249a4379d6f3a279ba6dbf4ea29bc5b550856a81b3bb934d60c40ebf6c08f03"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://a249a4379d6f3a279ba6dbf4ea29bc5b550856a81b3bb934d60c40ebf6c08f03"}],"containerStatuses":[{"name":"mysql","state":{"running":{"startedAt":"2019-04-10T17:21:09Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"percona:5.7.25","imageID":"docker-pullable://percona@sha256:3a5b2e2f52b444ac4449e469b957348a8953b5b372bd15e1c740eb5e8c01177b","containerID":"docker://85cb844b939aa810db813eb05c8b731c06b0e97fc7d7639b599d13446b262daa"}],"qosClass":"Burstable"}},{"metadata":{"name":"mysqlha-vdtq5","generateName":"mysqlha-","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/mysqlha-vdtq5","uid":"01e90566-5bb5-11e9-bf08-00505683ad44","resourceVersion":"484639","creationTimestamp":"2019-04-10T17:20:59Z","labels":{"app":"mysqlha","app.kubernetes.io/component":"database","app.kubernetes.io/instance":"mysqlha","app.kubernetes.io/managed-by":"Tiller","app.kubernetes.io/name":"mysqlha","app.kubernetes.io/part-of":"optanix-platform","app.kubernetes.io/version":"5.7.25","chart":"mysqlha-0.1.0","component":"server","controller-revision-hash":"3205749636","helm.sh/chart":"mysqlha-0.1.0","heritage":"Tiller","pod-template-generation":"1","release":"mysqlha"},"annotations":{"cni.projectcalico.org/podIP":"10.42.1.46/32"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"DaemonSet","name":"mysqlha","uid":"018f22fe-5bb5-11e9-afcc-005056831f87","controller":true,"blockOwnerDeletion":true}]},"spec":{"volumes":[{"name":"data","hostPath":{"path":"/var/lib/mysql","type":""}},{"name":"conf","hostPath":{"path":"/etc/mysql/conf.d","type":""}},{"name":"config-map","configMap":{"name":"mysqlha","defaultMode":420}},{"name":"scripts","configMap":{"name":"mysqlha-scripts","defaultMode":420}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"initContainers":[{"name":"consul-registry","image":"consul:1.3.1","command":["/bin/sh"],"args":["-c","source /mnt/scripts/mysqlha_lib.sh;\n\ncheck_if_slave\n\n# If host is a slave and the master is dead, will register as new master\nif [ ${i_am_the_highlander} == 0 ] \u0026\u0026 [ ${master_alive} == 0 ]; then\n  echo \"I am a slave AND master is dead\"\n  echo \"Long live the new master: ${HOSTNAME}\"\n  register_as_master\nfi\n"],"env":[{"name":"CONSUL_DC","value":"optx"},{"name":"CONSUL_HTTP_ADDR","value":"consul-server.default.svc.cluster.local:8500"},{"name":"CONSUL_HTTP_SSL_VERIFY","value":"false"}],"resources":{},"volumeMounts":[{"name":"conf","mountPath":"/mnt/conf.d"},{"name":"config-map","mountPath":"/mnt/config-map"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"init-mysql","image":"consul:1.3.1","command":["/bin/sh"],"args":["-c","set -ex\n# Copy all cnf files\ncp -f /mnt/config-map/* /mnt/conf.d/\n\n# Copy server-id.conf adding offset to avoid reserved server-id=0 value.\ncat /mnt/config-map/server-id.cnf | sed s/@@SERVER_ID@@/1/g \u003e /mnt/conf.d/server-id.cnf\n\n# TODO: Determine master/slave. Will remove slave for now\nrm /mnt/conf.d/slave.cnf\n\n# # Copy appropriate conf.d files from config-map to config mount.\n# if [[ $ordinal -eq 0 ]]; then\n#   cp -f /mnt/config-map/master.cnf /mnt/conf.d/\n# else\n#   cp -f /mnt/config-map/slave.cnf /mnt/conf.d/\n# fi\n#\n# # Copy replication user script\n# if [[ $ordinal -eq 0 ]]; then\n#   cp -f /mnt/config-map/create-replication-user.sh /mnt/scripts/create-replication-user.sh\n#   chmod 700 /mnt/scripts/create-replication-user.sh\n# fi\n\n# Set user to 999 (percona mysql user)\nchown -R 999:999 /mnt/conf.d /mnt/data\n"],"resources":{},"volumeMounts":[{"name":"conf","mountPath":"/mnt/conf.d"},{"name":"config-map","mountPath":"/mnt/config-map"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"data","mountPath":"/mnt/data"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"containers":[{"name":"mysql","image":"percona:5.7.25","ports":[{"name":"mysql","containerPort":3306,"protocol":"TCP"}],"env":[{"name":"MYSQL_DATABASE"},{"name":"MYSQL_ROOT_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-root-password"}}},{"name":"MYSQL_REPLICATION_USER","value":"repl"},{"name":"MYSQL_REPLICATION_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-replication-password"}}},{"name":"MYSQL_USER","value":"optanix"},{"name":"MYSQL_PASSWORD","valueFrom":{"secretKeyRef":{"name":"mysqlha","key":"mysql-password"}}}],"resources":{"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"data","mountPath":"/var/lib/mysql"},{"name":"conf","mountPath":"/etc/my.cnf.d"},{"name":"scripts","mountPath":"/mnt/scripts"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"exec":{"command":["/bin/sh","-c","mysqladmin ping -h 127.0.0.1 -u root -p\"${MYSQL_ROOT_PASSWORD}\""]},"initialDelaySeconds":30,"timeoutSeconds":5,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"exec":{"command":["/bin/sh","-c","mysql -h 127.0.0.1 -u root -p\"${MYSQL_ROOT_PASSWORD}\" -e \"SELECT 1\""]},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.198","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute"},{"key":"node.kubernetes.io/disk-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/memory-pressure","operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/unschedulable","operator":"Exists","effect":"NoSchedule"}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-10T17:21:07Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-10T17:21:24Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-10T17:20:58Z"}],"hostIP":"172.16.30.198","podIP":"10.42.1.46","startTime":"2019-04-10T17:20:58Z","initContainerStatuses":[{"name":"consul-registry","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-10T17:21:00Z","finishedAt":"2019-04-10T17:21:05Z","containerID":"docker://f0b9ff6d2644254d79a6ca715ffc6c0bcb8d49c86c948e53a2322fce1aae5423"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://f0b9ff6d2644254d79a6ca715ffc6c0bcb8d49c86c948e53a2322fce1aae5423"},{"name":"init-mysql","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2019-04-10T17:21:06Z","finishedAt":"2019-04-10T17:21:06Z","containerID":"docker://35f90fd647c67162a3c1d95356cbc52ad22ed2abd150aa46c0eae53fb3645763"}},"lastState":{},"ready":true,"restartCount":0,"image":"consul:1.3.1","imageID":"docker-pullable://consul@sha256:a633ef291439c1d86bf822cfa208f4b6484dfd8518189ed8b4a0b59c4ba96903","containerID":"docker://35f90fd647c67162a3c1d95356cbc52ad22ed2abd150aa46c0eae53fb3645763"}],"containerStatuses":[{"name":"mysql","state":{"running":{"startedAt":"2019-04-10T17:21:07Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"percona:5.7.25","imageID":"docker-pullable://percona@sha256:3a5b2e2f52b444ac4449e469b957348a8953b5b372bd15e1c740eb5e8c01177b","containerID":"docker://4cc5626b05419b78d4e3605d31b00601712bb4c27bb97c15c6eb5c1310ba9875"}],"qosClass":"Burstable"}},{"metadata":{"name":"pvc-0aec9f81598911e9-e-f80163c9","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/pvc-0aec9f81598911e9-e-f80163c9","uid":"10653f86-5989-11e9-bf08-00505683ad44","resourceVersion":"24475","creationTimestamp":"2019-04-07T23:01:23Z","annotations":{"cni.projectcalico.org/podIP":"10.42.0.28/32"},"ownerReferences":[{"apiVersion":"longhorn.rancher.io/v1alpha1","kind":"longhorn.rancher.io/v1alpha1, Kind=Engine","name":"pvc-0aec9f81598911e9-e-f80163c9","uid":"0b4c2dce-5989-11e9-bf08-00505683ad44"}]},"spec":{"volumes":[{"name":"dev","hostPath":{"path":"/dev","type":""}},{"name":"proc","hostPath":{"path":"/proc","type":""}},{"name":"engine-binaries","hostPath":{"path":"/var/lib/rancher/longhorn/engine-binaries/","type":""}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"pvc-0aec9f81598911e9-e-f80163c9","image":"repo.optanix.io/longhorn-engine:v0.3.3","command":["engine-launcher","start","--launcher-listen","0.0.0.0:9510","--longhorn-binary","/usr/local/bin/longhorn","--listen","0.0.0.0:9501","--frontend","tgt-blockdev","--size","10737418240","--replica","tcp://10.42.0.27:9502","--replica","tcp://10.42.2.34:9502","--replica","tcp://10.42.1.27:9502","pvc-0aec9f81598911e9"],"resources":{},"volumeMounts":[{"name":"dev","mountPath":"/host/dev"},{"name":"proc","mountPath":"/host/proc"},{"name":"engine-binaries","mountPath":"/engine-binaries/"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"exec":{"command":["ls","/dev/longhorn/pvc-0aec9f81598911e9"]},"initialDelaySeconds":1,"timeoutSeconds":1,"periodSeconds":1,"successThreshold":1,"failureThreshold":15},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:23Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:27Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:23Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.28","startTime":"2019-04-07T23:01:23Z","containerStatuses":[{"name":"pvc-0aec9f81598911e9-e-f80163c9","state":{"running":{"startedAt":"2019-04-07T23:01:24Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/longhorn-engine:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-engine@sha256:813c15c85fc9e61d4225a38f22e0d9d7ae358bfd131e38fdb73b5192ff698526","containerID":"docker://efbb33c1278a4737c57e4bf8482e29648090868dc204ef5f521c177fd596df1d"}],"qosClass":"BestEffort"}},{"metadata":{"name":"pvc-0aec9f81598911e9-r-1a90a916","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/pvc-0aec9f81598911e9-r-1a90a916","uid":"0df23e7b-5989-11e9-bf08-00505683ad44","resourceVersion":"24450","creationTimestamp":"2019-04-07T23:01:19Z","labels":{"longhorn-volume-replica":"pvc-0aec9f81598911e9"},"annotations":{"cni.projectcalico.org/podIP":"10.42.2.34/32"},"ownerReferences":[{"apiVersion":"longhorn.rancher.io/v1alpha1","kind":"longhorn.rancher.io/v1alpha1, Kind=Replica","name":"pvc-0aec9f81598911e9-r-1a90a916","uid":"0b65148b-5989-11e9-bf08-00505683ad44"}]},"spec":{"volumes":[{"name":"volume","hostPath":{"path":"/var/lib/rancher/longhorn/replicas/pvc-0aec9f81598911e9-62c72ef9","type":""}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"pvc-0aec9f81598911e9-r-1a90a916","image":"repo.optanix.io/longhorn-engine:v0.3.3","command":["longhorn","replica","--listen","0.0.0.0:9502","--size","10737418240","/volume"],"resources":{},"volumeMounts":[{"name":"volume","mountPath":"/volume"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/v1","port":9502,"scheme":"HTTP"},"initialDelaySeconds":1,"timeoutSeconds":1,"periodSeconds":1,"successThreshold":1,"failureThreshold":10},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.195","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:18Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:21Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:18Z"}],"hostIP":"172.16.30.195","podIP":"10.42.2.34","startTime":"2019-04-07T23:01:18Z","containerStatuses":[{"name":"pvc-0aec9f81598911e9-r-1a90a916","state":{"running":{"startedAt":"2019-04-07T23:01:19Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/longhorn-engine:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-engine@sha256:813c15c85fc9e61d4225a38f22e0d9d7ae358bfd131e38fdb73b5192ff698526","containerID":"docker://076a8a672890f67653bc650abe05831c5d949ad62538097f4fe2700ef5871955"}],"qosClass":"BestEffort"}},{"metadata":{"name":"pvc-0aec9f81598911e9-r-2e329a4c","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/pvc-0aec9f81598911e9-r-2e329a4c","uid":"0de4b271-5989-11e9-bf08-00505683ad44","resourceVersion":"24444","creationTimestamp":"2019-04-07T23:01:18Z","labels":{"longhorn-volume-replica":"pvc-0aec9f81598911e9"},"annotations":{"cni.projectcalico.org/podIP":"10.42.1.27/32"},"ownerReferences":[{"apiVersion":"longhorn.rancher.io/v1alpha1","kind":"longhorn.rancher.io/v1alpha1, Kind=Replica","name":"pvc-0aec9f81598911e9-r-2e329a4c","uid":"0b516add-5989-11e9-bf08-00505683ad44"}]},"spec":{"volumes":[{"name":"volume","hostPath":{"path":"/var/lib/rancher/longhorn/replicas/pvc-0aec9f81598911e9-5eb46531","type":""}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"pvc-0aec9f81598911e9-r-2e329a4c","image":"repo.optanix.io/longhorn-engine:v0.3.3","command":["longhorn","replica","--listen","0.0.0.0:9502","--size","10737418240","/volume"],"resources":{},"volumeMounts":[{"name":"volume","mountPath":"/volume"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/v1","port":9502,"scheme":"HTTP"},"initialDelaySeconds":1,"timeoutSeconds":1,"periodSeconds":1,"successThreshold":1,"failureThreshold":10},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.198","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:18Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:20Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:18Z"}],"hostIP":"172.16.30.198","podIP":"10.42.1.27","startTime":"2019-04-07T23:01:18Z","containerStatuses":[{"name":"pvc-0aec9f81598911e9-r-2e329a4c","state":{"running":{"startedAt":"2019-04-07T23:01:19Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/longhorn-engine:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-engine@sha256:813c15c85fc9e61d4225a38f22e0d9d7ae358bfd131e38fdb73b5192ff698526","containerID":"docker://5c27dc3fd501c75b1a4303d10c95ef7c2ceac7ca418cb9789c97376ee59acc78"}],"qosClass":"BestEffort"}},{"metadata":{"name":"pvc-0aec9f81598911e9-r-44e7e6f8","namespace":"default","selfLink":"/api/v1/namespaces/default/pods/pvc-0aec9f81598911e9-r-44e7e6f8","uid":"0de91eb6-5989-11e9-bf08-00505683ad44","resourceVersion":"24443","creationTimestamp":"2019-04-07T23:01:19Z","labels":{"longhorn-volume-replica":"pvc-0aec9f81598911e9"},"annotations":{"cni.projectcalico.org/podIP":"10.42.0.27/32"},"ownerReferences":[{"apiVersion":"longhorn.rancher.io/v1alpha1","kind":"longhorn.rancher.io/v1alpha1, Kind=Replica","name":"pvc-0aec9f81598911e9-r-44e7e6f8","uid":"0b5a5d6f-5989-11e9-bf08-00505683ad44"}]},"spec":{"volumes":[{"name":"volume","hostPath":{"path":"/var/lib/rancher/longhorn/replicas/pvc-0aec9f81598911e9-97ae3a27","type":""}},{"name":"default-token-gwws6","secret":{"secretName":"default-token-gwws6","defaultMode":420}}],"containers":[{"name":"pvc-0aec9f81598911e9-r-44e7e6f8","image":"repo.optanix.io/longhorn-engine:v0.3.3","command":["longhorn","replica","--listen","0.0.0.0:9502","--size","10737418240","/volume"],"resources":{},"volumeMounts":[{"name":"volume","mountPath":"/volume"},{"name":"default-token-gwws6","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/v1","port":9502,"scheme":"HTTP"},"initialDelaySeconds":1,"timeoutSeconds":1,"periodSeconds":1,"successThreshold":1,"failureThreshold":10},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"172.16.30.192","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:19Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:21Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":null},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2019-04-07T23:01:19Z"}],"hostIP":"172.16.30.192","podIP":"10.42.0.27","startTime":"2019-04-07T23:01:19Z","containerStatuses":[{"name":"pvc-0aec9f81598911e9-r-44e7e6f8","state":{"running":{"startedAt":"2019-04-07T23:01:20Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"repo.optanix.io/longhorn-engine:v0.3.3","imageID":"docker-pullable://repo.optanix.io/longhorn-engine@sha256:813c15c85fc9e61d4225a38f22e0d9d7ae358bfd131e38fdb73b5192ff698526","containerID":"docker://b6d30203a01a41642f154b5f044aa34f48f8ad70a6fd4e4e1d3fbbbd5570f253"}],"qosClass":"BestEffort"}}]}
